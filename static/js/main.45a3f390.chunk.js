/*! For license information please see main.45a3f390.chunk.js.LICENSE.txt */
(this["webpackJsonpwedigg-storage"]=this["webpackJsonpwedigg-storage"]||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.3e7625e9.jpg"},213:function(e,t,a){e.exports=a.p+"static/media/sidebar-1.8e9f0a3c.jpg"},214:function(e,t,a){e.exports=a.p+"static/media/sidebar-3.25031690.jpg"},215:function(e,t,a){e.exports=a.p+"static/media/sidebar-4.fc9cb053.jpg"},389:function(e,t,a){},414:function(e,t,a){e.exports=a.p+"static/media/logo_blurred_bg.3736b390.png"},415:function(e,t){e.exports="data:image/png;base64,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"},416:function(e,t,a){e.exports=a.p+"static/media/login_img.31e1db52.svg"},429:function(e,t,a){e.exports=a(520)},519:function(e,t,a){},520:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),i=a.n(l),o=a(66),c=a(303),s=a.n(c),m=a(397),p=a(4),u=a(146),d=a.n(u),g=d.a.initializeApp({apiKey:"AIzaSyAw46sqqZwFmF2iKe2Nc_0IHvqIXxyYvhw",authDomain:"wedigg-storage.firebaseapp.com",databaseURL:"https://wedigg-storage.firebaseio.com",projectId:"wedigg-storage",storageBucket:"wedigg-storage.appspot.com",messagingSenderId:"198664235889",appId:"1:198664235889:web:4dd8fa3600c004db7d24d0",measurementId:"G-78ZM881BC1"});d.a.analytics();var b=g,h=Object(o.a)({}),f=a(38),E=a(242),x=(a(356),a(357)),v=a(8),O=a(23),y=a.n(O),j=a(550),S=a(365),w=a(297),C=a(393),A=a(401),T=a.n(A),N=a(364),k=a(529),I=a(309),D=a(128),F=a(528),P=a(526),B=a(549),R=a(111),L=a.n(R),W=a(294),H=a(295),z=a(250),G=a(398),M=a.n(G),U=a(399),V=a.n(U),K=a(11),q=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var t=e[0],a=e[1],n=e[2];e=t+t+a+a+n+n}var r=(e=e.toUpperCase())[0]+e[1],l=e[2]+e[3],i=e[4]+e[5];return parseInt(r,16)+", "+parseInt(l,16)+", "+parseInt(i,16)},Y={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},Q={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},Z={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},X=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],J=["#ff9800","#ffa726","#fb8c00","#ffa21a"],$=["#f44336","#ef5350","#e53935","#f55a4e"],_=["#4caf50","#66bb6a","#43a047","#5cb860"],ee=["#00acc1","#26c6da","#00acc1","#00d3ee"],te=["#e91e63","#ec407a","#d81b60","#eb3573"],ae=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],ne={boxShadow:"0 10px 30px -12px rgba("+q("#000")+", 0.42), 0 4px 25px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q("#000")+", 0.2)"},re={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q(X[0])+",.4)"},le={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q(ee[0])+",.4)"},ie={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q(_[0])+",.4)"},oe={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q(J[0])+",.4)"},ce={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q($[0])+",.4)"},se={boxShadow:"0 4px 20px 0 rgba("+q("#000")+",.14), 0 7px 10px -5px rgba("+q(te[0])+",.4)"},me=Object(K.a)({background:"linear-gradient(60deg, "+J[1]+", "+J[2]+")"},oe),pe=Object(K.a)({background:"linear-gradient(60deg, "+_[1]+", "+_[2]+")"},ie),ue=Object(K.a)({background:"linear-gradient(60deg, "+$[1]+", "+$[2]+")"},ce),de=Object(K.a)({background:"linear-gradient(60deg, "+ee[1]+", "+ee[2]+")"},le),ge=Object(K.a)({background:"linear-gradient(60deg, "+X[1]+", "+X[2]+")"},re),be=Object(K.a)({background:"linear-gradient(60deg, "+te[1]+", "+te[2]+")"},se),he=(Object(K.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+ae[10],height:"auto"},Z),q("#000"),q("#000"),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+q("#000")+", 0.42), 0 3px 20px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q("#000")+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),fe={color:ae[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:ae[1],fontWeight:"400",lineHeight:"1"}},Ee=(Object(K.a)(Object(K.a)({},fe),{},{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(K.a)(Object(K.a)({},fe),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:ae[4]+" !important",borderWidth:"1px !important"},"&:after":{borderColor:X[0]}},underlineError:{"&:after":{borderColor:$[0]}},underlineSuccess:{"&:after":{borderColor:_[0]}},labelRoot:Object(K.a)(Object(K.a)({},Z),{},{color:ae[3]+" !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857",letterSpacing:"unset"}),labelRootError:{color:$[0]},labelRootSuccess:{color:_[0]},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative",verticalAlign:"unset"}}),xe=Object(x.a)(Ee);function ve(e){var t,a,n=xe(),l=e.formControlProps,i=e.labelText,o=e.id,c=e.labelProps,s=e.inputProps,m=e.error,p=e.success,u=y()((t={},Object(v.a)(t," "+n.labelRootError,m),Object(v.a)(t," "+n.labelRootSuccess,p&&!m),t)),d=y()((a={},Object(v.a)(a,n.underlineError,m),Object(v.a)(a,n.underlineSuccess,p&&!m),Object(v.a)(a,n.underline,!0),a)),g=y()(Object(v.a)({},n.marginTop,void 0===i));return r.a.createElement(W.a,Object.assign({},l,{className:l.className+" "+n.formControl}),void 0!==i?r.a.createElement(H.a,Object.assign({className:n.labelRoot+u,htmlFor:o},c),i):null,r.a.createElement(z.a,Object.assign({classes:{root:g,disabled:n.disabled,underline:d},id:o},s)),m?r.a.createElement(M.a,{className:n.feedback+" "+n.labelRootError}):p?r.a.createElement(V.a,{className:n.feedback+" "+n.labelRootSuccess}):null)}var Oe=a(63),ye=a(358),je={button:{minHeight:"auto",minWidth:"auto",backgroundColor:ae[0],color:"#FFF",boxShadow:"0 2px 2px 0 rgba("+q(ae[0])+", 0.14), 0 3px 1px -2px rgba("+q(ae[0])+", 0.2), 0 1px 5px 0 rgba("+q(ae[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFF",backgroundColor:ae[0],boxShadow:"0 14px 26px -12px rgba("+q(ae[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(ae[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFF",color:ae[0]}},rose:{backgroundColor:te[0],boxShadow:"0 2px 2px 0 rgba("+q(te[0])+", 0.14), 0 3px 1px -2px rgba("+q(te[0])+", 0.2), 0 1px 5px 0 rgba("+q(te[0])+", 0.12)","&:hover,&:focus":{backgroundColor:te[0],boxShadow:"0 14px 26px -12px rgba("+q(te[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(te[0])+", 0.2)"}},primary:{backgroundColor:X[0],boxShadow:"0 2px 2px 0 rgba("+q(X[0])+", 0.14), 0 3px 1px -2px rgba("+q(X[0])+", 0.2), 0 1px 5px 0 rgba("+q(X[0])+", 0.12)","&:hover,&:focus":{backgroundColor:X[0],boxShadow:"0 14px 26px -12px rgba("+q(X[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(X[0])+", 0.2)"}},info:{backgroundColor:ee[0],boxShadow:"0 2px 2px 0 rgba("+q(ee[0])+", 0.14), 0 3px 1px -2px rgba("+q(ee[0])+", 0.2), 0 1px 5px 0 rgba("+q(ee[0])+", 0.12)","&:hover,&:focus":{backgroundColor:ee[0],boxShadow:"0 14px 26px -12px rgba("+q(ee[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(ee[0])+", 0.2)"}},success:{backgroundColor:_[0],boxShadow:"0 2px 2px 0 rgba("+q(_[0])+", 0.14), 0 3px 1px -2px rgba("+q(_[0])+", 0.2), 0 1px 5px 0 rgba("+q(_[0])+", 0.12)","&:hover,&:focus":{backgroundColor:_[0],boxShadow:"0 14px 26px -12px rgba("+q(_[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(_[0])+", 0.2)"}},warning:{backgroundColor:J[0],boxShadow:"0 2px 2px 0 rgba("+q(J[0])+", 0.14), 0 3px 1px -2px rgba("+q(J[0])+", 0.2), 0 1px 5px 0 rgba("+q(J[0])+", 0.12)","&:hover,&:focus":{backgroundColor:J[0],boxShadow:"0 14px 26px -12px rgba("+q(J[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q(J[0])+", 0.2)"}},danger:{backgroundColor:$[0],boxShadow:"0 2px 2px 0 rgba("+q($[0])+", 0.14), 0 3px 1px -2px rgba("+q($[0])+", 0.2), 0 1px 5px 0 rgba("+q($[0])+", 0.12)","&:hover,&:focus":{backgroundColor:$[0],boxShadow:"0 14px 26px -12px rgba("+q($[0])+", 0.42), 0 4px 23px 0px rgba("+q("#000")+", 0.12), 0 8px 10px -5px rgba("+q($[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:te[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:X[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:ee[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:_[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:J[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:$[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:ae[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}},Se=Object(x.a)(je);function we(e){var t,a=Se(),n=e.color,l=e.round,i=e.children,o=e.disabled,c=e.simple,s=e.size,m=e.block,p=e.link,u=e.justIcon,d=e.className,g=e.muiClasses,b=Object(Oe.a)(e,["color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),h=y()((t={},Object(v.a)(t,a.button,!0),Object(v.a)(t,a[s],s),Object(v.a)(t,a[n],n),Object(v.a)(t,a.round,l),Object(v.a)(t,a.disabled,o),Object(v.a)(t,a.simple,c),Object(v.a)(t,a.block,m),Object(v.a)(t,a.link,p),Object(v.a)(t,a.justIcon,u),Object(v.a)(t,d,d),t));return r.a.createElement(ye.a,Object.assign({},b,{classes:g,className:h}),i)}var Ce=a(548),Ae=Object(x.a)({grid:{padding:"0 15px !important"}});function Te(e){var t=Ae(),a=e.children,n=Object(Oe.a)(e,["children"]);return r.a.createElement(Ce.a,Object.assign({item:!0},n,{className:t.grid}),a)}var Ne=Object(x.a)({grid:{margin:"0 -15px !important",width:"unset"}});function ke(e){var t=Ne(),a=e.children,n=Object(Oe.a)(e,["children"]);return r.a.createElement(Ce.a,Object.assign({container:!0},n,{className:t.grid}),a)}a(359),a(360),a(361),a(363),a(362);var Ie=function(e){return{warningTableHeader:{color:J[0]},primaryTableHeader:{color:X[0]},dangerTableHeader:{color:$[0]},successTableHeader:{color:_[0]},infoTableHeader:{color:ee[0]},roseTableHeader:{color:te[0]},grayTableHeader:{color:ae[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(K.a)(Object(K.a)({color:"inherit"},Z),{},{"&, &$tableCell":{fontSize:"1em"}}),tableCell:Object(K.a)(Object(K.a)({},Z),{},{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"0.8125rem"}),tableResponsive:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},tableHeadRow:{height:"56px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"},tableBodyRow:{height:"48px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"}}};Object(x.a)(Ie);var De={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+q("#000")+", 0.87)",background:"#FFF",width:"100%",boxShadow:"0 1px 4px 0 rgba("+q("#000")+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}},Fe=Object(x.a)(De);function Pe(e){var t,a=Fe(),n=e.className,l=e.children,i=e.plain,o=e.profile,c=e.chart,s=Object(Oe.a)(e,["className","children","plain","profile","chart"]),m=y()((t={},Object(v.a)(t,a.card,!0),Object(v.a)(t,a.cardPlain,i),Object(v.a)(t,a.cardProfile,o),Object(v.a)(t,a.cardChart,c),Object(v.a)(t,n,void 0!==n),t));return r.a.createElement("div",Object.assign({className:m},s),l)}var Be={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:"#FFF"},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},me)},successCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},pe)},dangerCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},ue)},infoCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},de)},primaryCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},ge)},roseCardHeader:{color:"#FFF","&:not($cardHeaderIcon)":Object(K.a)({},be)}},Re=Object(x.a)(Be);function Le(e){var t,a=Re(),n=e.className,l=e.children,i=e.color,o=e.plain,c=e.stats,s=e.icon,m=Object(Oe.a)(e,["className","children","color","plain","stats","icon"]),p=y()((t={},Object(v.a)(t,a.cardHeader,!0),Object(v.a)(t,a[i+"CardHeader"],i),Object(v.a)(t,a.cardHeaderPlain,o),Object(v.a)(t,a.cardHeaderStats,c),Object(v.a)(t,a.cardHeaderIcon,s),Object(v.a)(t,n,void 0!==n),t));return r.a.createElement("div",Object.assign({className:p},m),l)}var We={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}},He=Object(x.a)(We);function ze(e){var t,a=He(),n=e.className,l=e.children,i=e.plain,o=e.profile,c=Object(Oe.a)(e,["className","children","plain","profile"]),s=y()((t={},Object(v.a)(t,a.cardBody,!0),Object(v.a)(t,a.cardBodyPlain,i),Object(v.a)(t,a.cardBodyProfile,o),Object(v.a)(t,n,void 0!==n),t));return r.a.createElement("div",Object.assign({className:s},c),l)}var Ge=Object(x.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}});var Me=function(e){return{buttonLink:Object(v.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(v.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:ae[9],marginRight:"15px"}),linkText:Object(K.a)(Object(K.a)({zIndex:"4"},Z),{},{fontSize:"14px"}),popperClose:{pointerEvents:"none"},popperResponsive:Object(v.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),popperNav:Object(v.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"unset !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+q("#000")+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#FFF",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(K.a)(Object(K.a)({},Z),{},{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:ae[8],whiteSpace:"nowrap",height:"unset",minHeight:"unset","&:hover":Object(K.a)({backgroundColor:X[0],color:"#FFF"},re)})}},Ue=function(e){var t,a,n;return Object(K.a)(Object(K.a)({},Me(e)),{},{search:Object(v.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}),linkText:Object(K.a)(Object(K.a)({zIndex:"4"},Z),{},{fontSize:"14px",margin:"0px"}),buttonLink:Object(v.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(v.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(v.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:$[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(v.a)(t,e.breakpoints.down("sm"),Object(K.a)(Object(K.a)({},Z),{},{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(v.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(v.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(v.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(v.a)(n,"display","inline-block"),n)})},Ve=Object(x.a)(Ue);function Ke(){var e=Ve(),t=r.a.useState(null),a=Object(p.a)(t,2),n=(a[0],a[1],r.a.useState(null)),l=Object(p.a)(n,2),i=l[0],o=l[1],c=function(){o(null)},s=function(){h.replace("/admin/Settings"),o(null)},m=function(){b.auth().signOut(),o(null)};return r.a.createElement("div",null,r.a.createElement("div",{className:e.manager},r.a.createElement(we,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":i?"profile-menu-list-grow":null,"aria-haspopup":"true",onClick:function(e){i&&i.contains(e.target)?o(null):o(e.currentTarget)},className:e.buttonLink},r.a.createElement(L.a,{className:e.icons}),r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:e.linkText},"Profile"))),r.a.createElement(P.a,{open:Boolean(i),anchorEl:i,transition:!0,disablePortal:!0,className:y()(Object(v.a)({},e.popperClose,!i))+" "+e.popperNav},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(I.a,Object.assign({},a,{id:"profile-menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(D.a,null,r.a.createElement(F.a,{onClickAway:c},r.a.createElement(k.a,{role:"menu"},r.a.createElement(N.a,{onClick:s,className:e.dropdownItem},"Settings"),r.a.createElement(B.a,{light:!0}),r.a.createElement(N.a,{onClick:m,className:e.dropdownItem},"Logout")))))}))))}var qe=a(296),Ye=a.n(qe),Qe=a(203),Ze=a.n(Qe),Xe=a(202),Je=a.n(Xe),$e=function(e){var t,a,n;return Object(K.a)(Object(K.a)({},Me(e)),{},{search:Object(v.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFF"}}),linkText:Object(K.a)(Object(K.a)({zIndex:"4"},Z),{},{fontSize:"14px",margin:"0px"}),buttonLink:Object(v.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(v.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(v.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:$[0],color:"#FFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(v.a)(t,e.breakpoints.down("sm"),Object(K.a)(Object(K.a)({},Z),{},{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(v.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(v.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(v.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(v.a)(n,"display","inline-block"),n)})},_e=Object(x.a)($e);function et(){var e=_e(),t=r.a.useState(null),a=Object(p.a)(t,2),n=a[0],l=a[1],i=function(e){n&&n.contains(e.target)?l(null):l(e.currentTarget)},o=function(){l(null)};return r.a.createElement("div",null,r.a.createElement("div",{className:e.searchWrapper},r.a.createElement(ve,{formControlProps:{className:e.margin+" "+e.search},inputProps:{placeholder:"\u062c\u0633\u062a\u062c\u0648...",inputProps:{"aria-label":"Search"}}}),r.a.createElement(we,{color:"white","aria-label":"edit",justIcon:!0,round:!0},r.a.createElement(Je.a,null))),r.a.createElement(we,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Dashboard",className:e.buttonLink},r.a.createElement(Ze.a,{className:e.icons}),r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:e.linkText},"\u0622\u0645\u0627\u0631\u0647\u0627"))),r.a.createElement("div",{className:e.manager},r.a.createElement(we,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-owns":n?"menu-list-grow":null,"aria-haspopup":"true",onClick:i,className:e.buttonLink},r.a.createElement(Ye.a,{className:e.icons}),r.a.createElement("span",{className:e.notifications},"\u06f5"),r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{onClick:i,className:e.linkText},"\u0627\u0639\u0644\u0627\u0646\u200c\u0647\u0627"))),r.a.createElement(P.a,{open:Boolean(n),anchorEl:n,transition:!0,disablePortal:!0,className:y()(Object(v.a)({},e.popperClose,!n))+" "+e.popperNav},(function(t){var a=t.TransitionProps,n=t.placement;return r.a.createElement(I.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(D.a,null,r.a.createElement(F.a,{onClickAway:o},r.a.createElement(k.a,{role:"menu"},r.a.createElement(N.a,{onClick:o,className:e.dropdownItem},"\u0645\u062d\u0645\u062f\u0631\u0636\u0627 \u0628\u0647 \u0627\u06cc\u0645\u06cc\u0644 \u0634\u0645\u0627 \u067e\u0627\u0633\u062e \u062f\u0627\u062f"),r.a.createElement(N.a,{onClick:o,className:e.dropdownItem},"\u0634\u0645\u0627 \u06f5 \u0648\u0638\u06cc\u0641\u0647 \u062c\u062f\u06cc\u062f \u062f\u0627\u0631\u06cc\u062f"),r.a.createElement(N.a,{onClick:o,className:e.dropdownItem},"\u0627\u0632 \u062d\u0627\u0644\u0627 \u0634\u0645\u0627 \u0628\u0627 \u0639\u0644\u06cc\u0631\u0636\u0627 \u062f\u0648\u0633\u062a \u0647\u0633\u062a\u06cc\u062f"),r.a.createElement(N.a,{onClick:o,className:e.dropdownItem},"\u0627\u0639\u0644\u0627\u0646 \u062f\u06cc\u06af\u0631"),r.a.createElement(N.a,{onClick:o,className:e.dropdownItem},"\u0627\u0639\u0644\u0627\u0646 \u062f\u06cc\u06af\u0631")))))}))),r.a.createElement(we,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),"aria-label":"Person",className:e.buttonLink},r.a.createElement(L.a,{className:e.icons}),r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement("p",{className:e.linkText},"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc"))))}var tt=function(){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:ae[7],border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(K.a)(Object(K.a)({},Q),{},{minHeight:"50px"}),flex:{flex:1},title:Object(K.a)(Object(K.a)({},Z),{},{letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(K.a)({backgroundColor:X[0],color:"#FFF"},he),info:Object(K.a)({backgroundColor:ee[0],color:"#FFF"},he),success:Object(K.a)({backgroundColor:_[0],color:"#FFF"},he),warning:Object(K.a)({backgroundColor:J[0],color:"#FFF"},he),danger:Object(K.a)({backgroundColor:$[0],color:"#FFF"},he)}},at=Object(x.a)(tt);function nt(e){var t=at();var a=e.color,n=y()(Object(v.a)({}," "+t[a],a));return r.a.createElement(j.a,{className:t.appBar+n},r.a.createElement(S.a,{className:t.container},r.a.createElement("div",{className:t.flex},r.a.createElement(we,{color:"transparent",href:"#",className:t.title},function(){var t;return e.routes.map((function(a){return-1!==window.location.href.indexOf(a.layout+a.path)&&(t=e.rtlActive?a.rtlName:a.name),null})),t}())),r.a.createElement(C.a,{smDown:!0,implementation:"css"},e.rtlActive?r.a.createElement(et,null):r.a.createElement(Ke,null)),r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement(w.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle},r.a.createElement(T.a,null)))))}var rt={block:Object(K.a)(Object(K.a)({color:"inherit",padding:"15px",textTransform:"uppercase",borderRadius:"3px",textDecoration:"none",position:"relative",display:"block"},Z),{},{fontWeight:"500",fontSize:"12px"}),left:{float:"left!important",display:"block"},right:{padding:"15px 0",margin:"0",fontSize:"14px",float:"right!important"},center:{padding:"-20px 0px 0px 0px",margin:"0",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},footer:Object(K.a)({bottom:"0",borderTop:"1px solid "+ae[11],padding:"15px 0"},Z),container:Q,a:{color:X,textDecoration:"none",backgroundColor:"transparent"},list:{marginBottom:"0",padding:"0",marginTop:"0"},inlineBlock:{display:"inline-block",padding:"0px",width:"auto"}},lt=Object(x.a)(rt);function it(e){var t=lt();return r.a.createElement("footer",{className:t.footer},r.a.createElement("div",{className:t.container},r.a.createElement("p",{className:t.center},r.a.createElement("span",null,"\xa9 ",1900+(new Date).getYear()," ",r.a.createElement("a",{href:"https://www.wediggit.co.il/",target:"_blank",className:t.a},"Wediggit")))))}var ot=a(145),ct=a(95),st=a(530),mt=a(531),pt=a(367),ut=a(366),dt=function(e){var t,a;return{drawerPaper:Object(K.a)(Object(K.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},ne),{},(t={width:260},Object(v.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(v.a)(t,e.breakpoints.down("sm"),Object(K.a)(Object(K.a)({width:260},ne),{},{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},Y)),t)),drawerPaperRTL:(a={},Object(v.a)(a,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(v.a)(a,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),a),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+q(ae[6])+", 0.3)"}},logoLink:Object(K.a)(Object(K.a)({},Z),{},{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFF"}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFF"}},itemLink:Object(K.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},Z),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+q("#FFF")+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(K.a)(Object(K.a)({},Z),{},{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFF"}),itemTextRTL:{textAlign:"right"},whiteFont:{color:"#FFF"},purple:Object(K.a)(Object(K.a)({backgroundColor:X[0]},re),{},{"&:hover,&:focus":Object(K.a)({backgroundColor:X[0]},re)}),blue:{backgroundColor:ee[0],boxShadow:"0 12px 20px -10px rgba("+q(ee[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(ee[0])+",.2)","&:hover,&:focus":{backgroundColor:ee[0],boxShadow:"0 12px 20px -10px rgba("+q(ee[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(ee[0])+",.2)"}},green:{backgroundColor:_[0],boxShadow:"0 12px 20px -10px rgba("+q(_[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(_[0])+",.2)","&:hover,&:focus":{backgroundColor:_[0],boxShadow:"0 12px 20px -10px rgba("+q(_[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(_[0])+",.2)"}},orange:{backgroundColor:J[0],boxShadow:"0 12px 20px -10px rgba("+q(J[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(J[0])+",.2)","&:hover,&:focus":{backgroundColor:J[0],boxShadow:"0 12px 20px -10px rgba("+q(J[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q(J[0])+",.2)"}},red:{backgroundColor:$[0],boxShadow:"0 12px 20px -10px rgba("+q($[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q($[0])+",.2)","&:hover,&:focus":{backgroundColor:$[0],boxShadow:"0 12px 20px -10px rgba("+q($[0])+",.28), 0 4px 20px 0 rgba("+q("#000")+",.12), 0 7px 8px -5px rgba("+q($[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(v.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},gt=Object(x.a)(dt);function bt(e){var t=gt();function a(e){return window.location.href.indexOf(e)>-1}var n=e.color,l=e.logo,i=e.image,o=e.logoText,c=e.routes,s=r.a.createElement(st.a,{className:t.list},c.map((function(l,i){var o,c=" ";"/upgrade-to-pro"===l.path?(c=t.activePro+" ",o=y()(Object(v.a)({}," "+t[n],!0))):o=y()(Object(v.a)({}," "+t[n],a(l.layout+l.path)));var s=y()(Object(v.a)({}," "+t.whiteFont,a(l.layout+l.path)));return r.a.createElement(ot.a,{to:l.layout+l.path,className:c+t.item,activeClassName:"active",key:i},r.a.createElement(mt.a,{button:!0,className:t.itemLink+o},"string"===typeof l.icon?r.a.createElement(ut.a,{className:y()(t.itemIcon,s,Object(v.a)({},t.itemIconRTL,e.rtlActive))},l.icon):r.a.createElement(l.icon,{className:y()(t.itemIcon,s,Object(v.a)({},t.itemIconRTL,e.rtlActive))}),r.a.createElement(pt.a,{primary:e.rtlActive?l.rtlName:l.name,className:y()(t.itemText,s,Object(v.a)({},t.itemTextRTL,e.rtlActive)),disableTypography:!0})))}))),m=r.a.createElement("div",{className:t.logo},r.a.createElement("a",{href:"/admin/dashboard",className:y()(t.logoLink,Object(v.a)({},t.logoLinkRTL,e.rtlActive)),target:"_blank"},r.a.createElement("div",{className:t.logoImage},r.a.createElement("img",{src:l,alt:"logo",className:t.img})),o));return r.a.createElement("div",null,r.a.createElement(C.a,{mdUp:!0,implementation:"css"},r.a.createElement(ct.a,{variant:"temporary",anchor:e.rtlActive?"left":"right",open:e.open,classes:{paper:y()(t.drawerPaper,Object(v.a)({},t.drawerPaperRTL,e.rtlActive))},onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0}},m,r.a.createElement("div",{className:t.sidebarWrapper},e.rtlActive?r.a.createElement(et,null):r.a.createElement(Ke,null),s),void 0!==i?r.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+i+")"}}):null)),r.a.createElement(C.a,{smDown:!0,implementation:"css"},r.a.createElement(ct.a,{anchor:e.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:y()(t.drawerPaper,Object(v.a)({},t.drawerPaperRTL,e.rtlActive))}},m,r.a.createElement("div",{className:t.sidebarWrapper},s),void 0!==i?r.a.createElement("div",{className:t.background,style:{backgroundImage:"url("+i+")"}}):null)))}var ht=a(171),ft=a(124),Et=a.n(ft),xt=a(551),vt=a(555),Ot=a(553),yt=a(554),jt=a(552);function St(e){var t=e.open,a=e.setOpen,n=e.setBoolVal,l=e.dialogText,i=e.dialogTitle;return r.a.createElement(xt.a,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(jt.a,{id:"alert-dialog-title"},i),r.a.createElement(Ot.a,null,r.a.createElement(yt.a,{id:"alert-dialog-description"},l)),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:function(){a(!1),n(!1)},color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){a(!1),n(!0)},color:"primary",autoFocus:!0},"Confirm")))}var wt=a(172),Ct={cardIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{borderRadius:"3px",backgroundColor:ae[0],padding:"15px",marginTop:"-20px",marginRight:"15px",float:"left"}},warningCardHeader:me,successCardHeader:pe,dangerCardHeader:ue,infoCardHeader:de,primaryCardHeader:ge,roseCardHeader:be},At=Object(x.a)(Ct);function Tt(e){var t,a=At(),n=e.className,l=e.children,i=e.color,o=Object(Oe.a)(e,["className","children","color"]),c=y()((t={},Object(v.a)(t,a.cardIcon,!0),Object(v.a)(t,a[i+"CardHeader"],i),Object(v.a)(t,n,void 0!==n),t));return r.a.createElement("div",Object.assign({className:c},o),l)}var Nt={cardFooter:{padding:"0",paddingTop:"10px",margin:"0 15px 10px",borderRadius:"0",justifyContent:"space-between",alignItems:"center",display:"flex",backgroundColor:"transparent",border:"0"},cardFooterProfile:{marginTop:"-15px"},cardFooterPlain:{paddingLeft:"5px",paddingRight:"5px",backgroundColor:"transparent"},cardFooterStats:{borderTop:"1px solid "+ae[10],marginTop:"20px","& svg":{position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px",width:"16px",height:"16px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"16px",position:"relative",top:"4px",marginRight:"3px",marginLeft:"3px"}},cardFooterChart:{borderTop:"1px solid "+ae[10]}},kt=Object(x.a)(Nt);function It(e){var t,a=kt(),n=e.className,l=e.children,i=e.plain,o=e.profile,c=e.stats,s=e.chart,m=Object(Oe.a)(e,["className","children","plain","profile","stats","chart"]),p=y()((t={},Object(v.a)(t,a.cardFooter,!0),Object(v.a)(t,a.cardFooterPlain,i),Object(v.a)(t,a.cardFooterProfile,o),Object(v.a)(t,a.cardFooterStats,c),Object(v.a)(t,a.cardFooterChart,s),Object(v.a)(t,n,void 0!==n),t));return r.a.createElement("div",Object.assign({className:p},m),l)}var Dt=Object(x.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:120},deleteButton:{float:"right",width:"100px",margin:e.spacing(1)},trashButton:{width:"50px",height:"50px",float:"right",margin:e.spacing(1),alignSelf:"flex-end",marginRight:"-1vh"},editButton:{width:"50px",height:"50px",float:"right",margin:e.spacing(1),alignSelf:"flex-end",marginRight:"-2vh"},root:{margin:e.spacing(1),float:"center",justifyContent:"center",alignItems:"center"},cardCategory:{color:ae[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardTitle:{color:ae[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:ae[1],fontWeight:"400",lineHeight:"1"}},detailLine:{marginTop:"15px",marginLeft:"15px",marginBottom:"-15px"},upperSelectFormControl:{margin:e.spacing(1),minWidth:"10rem"}}})),Ft=function(){h.replace("/admin/site")},Pt=function(){h.replace("/admin/storage")},Bt=function(){h.replace("/admin/storage")},Rt=function(){h.replace("/admin/supplier")};function Lt(e){var t=Dt(),a=e.countTitle,l=e.category,i=e.color,o=e.icon,c=e.description,s=e.isDefaultCard,m=e.handleOpenAlert,u=e.dataArr,d=e.setDataArr,g=(e.cardsArr,e.setCardsArr),h=Object(n.useState)(!1),f=Object(p.a)(h,2),E=f[0],x=f[1],v=Object(n.useState)("Default Title"),O=Object(p.a)(v,2),y=O[0],j=O[1],S=Object(n.useState)("Default Text"),C=Object(p.a)(S,2),A=C[0],T=C[1],N=Object(n.useState)(!1),k=Object(p.a)(N,2),I=k[0],D=k[1];Object(n.useEffect)((function(){!0===I&&(P(),D(!1))}),[I]);var F=function(){var e=u.filter((function(e){return e.description!==c})),t=u.filter((function(e){return e.description!==c}));g(e),function(e){d(e)}(t)},P=function(){var e=b.firestore(),t=b.auth();e.collection("users").doc(t.currentUser.uid).collection("cards").where("description","==",c).get().then((function(e){e.forEach((function(e){e.ref.delete().catch((function(e){m("error","An error has occurred. Please try again later!")}))})),F(),m("success","Successfully deleted the card!")}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{item:!0,xs:12,sm:6,md:3},r.a.createElement(Pe,null,r.a.createElement(Le,{color:i,stats:!0,icon:!0},r.a.createElement(Tt,{color:i},r.a.createElement(ut.a,null,o)),r.a.createElement("p",{className:t.cardCategory},l),r.a.createElement("h3",{className:t.cardTitle},a)),r.a.createElement("p",{className:t.detailLine},c),s?r.a.createElement(It,{stats:!0},function(e){switch(e){case"Total Managed Sites":return r.a.createElement(w.a,{style:{width:"50px",height:"50px"},color:"primary",onClick:Ft},r.a.createElement(ht.a,{icon:wt.b,style:{width:"20px",height:"20px"}}));case"Total Managed Devices":return r.a.createElement(w.a,{style:{width:"50px",height:"50px"},color:"primary",onClick:Pt},r.a.createElement(ht.a,{icon:wt.c,style:{width:"20px",height:"20px"}}));case"Total Managed Storages":return r.a.createElement(w.a,{style:{width:"50px",height:"50px"},color:"primary",onClick:Bt},r.a.createElement(ht.a,{icon:wt.a,style:{width:"20px",height:"20px"}}));case"Total Managed Suppliers":return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{style:{width:"50px",height:"50px"},color:"primary",onClick:Rt},r.a.createElement(ht.a,{icon:wt.d,style:{width:"20px",height:"20px"}})))}}(c)):r.a.createElement(It,{stats:!0},r.a.createElement(w.a,{style:{width:"50px",height:"50px"},color:"primary",onClick:Pt},r.a.createElement(ht.a,{icon:wt.c,style:{width:"20px",height:"20px"}})),r.a.createElement("div",null,r.a.createElement(w.a,{className:t.trashButton,style:{color:"#DB4D46"},onClick:function(){var e,t;e="Do you really want to delete the card "+c+"?",t="Once performed, this action can not be undone!",x(!0),j(e),T(t)}},r.a.createElement(Et.a,{style:{width:"24px",height:"24px"}})))))),r.a.createElement(St,{open:E,setOpen:x,setBoolVal:D,dialogText:A,dialogTitle:y}))}function Wt(e){var t=b.firestore(),a=Object(n.useState)(0),l=Object(p.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)(0),s=Object(p.a)(c,2),m=s[0],u=s[1],d=Object(n.useState)(0),g=Object(p.a)(d,2),h=g[0],f=g[1],E=Object(n.useState)(0),x=Object(p.a)(E,2),v=x[0],O=x[1],y=[{setFunc:o,ref:t.collection("counters").doc("sites")},{setFunc:u,ref:t.collection("counters").doc("storages")},{setFunc:f,ref:t.collection("counters").doc("devices")},{setFunc:O,ref:t.collection("counters").doc("suppliers")}];return Object(n.useEffect)((function(){y.forEach((function(e){e.ref.get().then((function(t){if(t.exists){var a=t.data();n=e.setFunc,r=a.count,n(r)}var n,r})).catch((function(e){console.log("Error getting document:",e)}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{container:!0,item:!0,xs:12,spacing:4},r.a.createElement(Lt,{countTitle:i,category:"Sites",color:"warning",icon:"location_on",description:"Total Managed Sites",isDefaultCard:!0}),r.a.createElement(Lt,{countTitle:m,category:"Storages",color:"primary",icon:"storage",description:"Total Managed Storages",isDefaultCard:!0}),r.a.createElement(Lt,{countTitle:h,category:"Devices",color:"info",icon:"tv",description:"Total Managed Devices",isDefaultCard:!0}),r.a.createElement(Lt,{countTitle:v,category:"Suppliers",color:"success",icon:"storefront",description:"Total Managed Suppliers",isDefaultCard:!0})))}function Ht(e){var t=e.db,a=e.cardsArr,l=e.setCardsArr,i=e.handleOpenAlert,o=Object(n.useState)([]),c=Object(p.a)(o,2),s=c[0],m=c[1];Object(n.useEffect)((function(){u()}),[a]);var u=function(){a.forEach((function(e){0===s.filter((function(t){return e.description===t.description})).length&&function(e){var a=t.collection("devices");e.owner.length>0?a=a.where("user","in",e.owner):e.site.length>0&&(1===e.site.length?(a=a.where("site","==",e.site[0]),e.storage.length>0?a=a.where("storageType","in",e.storage):e.category.length>0?a=a.where("category","in",e.category):e.supplier.length>0&&(a=a.where("supplier","in",e.supplier))):a=a.where("site","in",e.site));var n=Date.now();switch(e.warrantyEndPeriod){case"Any":n=0;break;case"A week from today":n=new Date(Date.now()+6048e5);break;case"A month from today":n=new Date(Date.now()+2592e6);break;case"A year from today":n=new Date(Date.now()+31536e6);break;default:n=0}0!==n&&(a=a.where("warrantyEnd","<=",n)),a.get().then((function(t){e.count=t.size,d(e)})).catch((function(t){console.log("Error getting document:",t),e.count=0,d(e)}))}(e)}))},d=function(e){var t=s;m([]),t.push(e),m(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{container:!0,item:!0,xs:12,spacing:4},s.map((function(e,t){return r.a.createElement(Lt,{key:t,countTitle:e.count,category:"Devices",color:e.color,icon:e.icon,description:e.description,isDefaultCard:!1,handleOpenAlert:i,dataArr:s,setDataArr:m,cardsArr:a,setCardsArr:l})}))))}var zt=a(102),Gt=(a(450),a(368)),Mt=Object(x.a)((function(e){return Object(Gt.a)({horDiv:{display:"flex",alignItems:"center",justifyContent:"center",float:"left",marginLeft:e.spacing(1)},root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{height:"65vh",width:"70vh",textAlign:"center"},formControl:{margin:e.spacing(1),width:"88%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlAutoComplete:{margin:e.spacing(1),width:"88%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},secondPlusButton:{marginLeft:e.spacing(3.5)},selectGridItem:{marginRight:e.spacing(-5)}})})),Ut=a(392),Vt=a(369),Kt=a(571),qt=a(135),Yt=a.n(qt),Qt=a(136),Zt=a.n(Qt);function Xt(e){var t=Mt(),a=e.acID,n=e.valuesArr,l=e.isMultiple,i=e.handleSetNewVal,o=e.tfLabel,c=e.isDisabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{variant:"standard",className:t.formControlAutoComplete},r.a.createElement(Kt.a,{multiple:l,limitTags:1,key:n.length,disabled:c,id:a,options:n,onChange:function(e,t){i(t)},disableCloseOnSelect:!0,freeSolo:!0,getOptionLabel:function(e){return function(e){return a.includes("site")?e.site:a.includes("owner")?e.fullName:e}(e)},renderOption:function(e,t){var n=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{icon:r.a.createElement(Yt.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Zt.a,{fontSize:"small"}),style:{marginRight:8},checked:n}),function(e){return a.includes("site")?e.site:a.includes("owner")?e.fullName+" | "+e.email.split("@")[0]+"@...":e}(e))},renderInput:function(e){return r.a.createElement(Vt.a,Object.assign({},e,{variant:"standard",size:"small",label:o,placeholder:""}))}})))}var Jt=[{icon:"verified",description:"Success"},{icon:"warning",description:"Warning"},{icon:"schedule_icon",description:"Clock"},{icon:"calendar_today",description:"Calendar"},{icon:"build",description:"Lab"},{icon:"grade",description:"Important"},{icon:"tv",description:"TV"},{icon:"phone_iphone",description:"Phone"},{icon:"tablet_mac",description:"Tablet"},{icon:"computer",description:"Laptop"},{icon:"phonelink",description:"Devices"},{icon:"location_on",description:"Location"},{icon:"storage",description:"Storage"},{icon:"cloud",description:"Cloud"},{icon:"headset",description:"Earphones"},{icon:"all_inbox",description:"Drawer"},{icon:"account_box",description:"Person"},{icon:"supervisor_account",description:"People"},{icon:"explore",description:"Explore"},{icon:"category",description:"Category"},{icon:"local_shipping",description:"Delivery"},{icon:"storefront",description:"Supplier"},{icon:"delete",description:"Trash"}],$t=a(101),_t=a(302),ea=a(557),ta=a(406),aa=a.n(ta),na=a(407),ra=a.n(na),la=a(408),ia=a.n(la),oa=a(160),ca=a.n(oa),sa=a(162),ma=a.n(sa),pa=a(83),ua=a.n(pa),da=a(161),ga=a.n(da),ba=a(409),ha=a.n(ba);function fa(e){var t,a,l,i,o,c,s,m,u,d=Mt(),g=e.open,h=e.setOpenNewCard,f=e.handleOpenAlert,E=e.cardsArr,x=e.setCardsArr,O=Object(n.useState)(""),y=Object(p.a)(O,2),j=y[0],S=y[1],w=Object(n.useState)(""),C=Object(p.a)(w,2),A=C[0],T=C[1],k=Object(n.useState)(""),I=Object(p.a)(k,2),D=I[0],F=I[1],P=Object(n.useState)(""),R=Object(p.a)(P,2),G=R[0],M=R[1],U=Object(n.useState)([]),V=Object(p.a)(U,2),K=V[0],q=V[1],Y=Object(n.useState)(""),Q=Object(p.a)(Y,2),Z=Q[0],X=Q[1],J=Object(n.useState)(""),$=Object(p.a)(J,2),_=$[0],ee=$[1],te=Object(n.useState)(""),ae=Object(p.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)(""),ie=Object(p.a)(le,2),oe=ie[0],ce=ie[1],se=Object(n.useState)([]),me=Object(p.a)(se,2),pe=me[0],ue=me[1],de=Object(n.useState)([]),ge=Object(p.a)(de,2),be=ge[0],he=ge[1],fe=Object(n.useState)([]),Ee=Object(p.a)(fe,2),xe=Ee[0],ve=Ee[1],Oe=Object(n.useState)([]),je=Object(p.a)(Oe,2),Se=je[0],we=je[1],Ae=Object(n.useState)([]),Te=Object(p.a)(Ae,2),Ne=Te[0],ke=Te[1],Ie=Object(n.useState)(""),De=Object(p.a)(Ie,2),Fe=De[0],Pe=De[1],Be=Object(n.useState)(["Any","A week from today","A month from today","A year from today"]),Re=Object(p.a)(Be,2),Le=Re[0],We=(Re[1],Object(n.useState)("")),He=Object(p.a)(We,2),ze=(He[0],He[1],b.firestore()),Ge=b.auth(),Me=function(){h(!1),Ve()},Ue=function(){var e=!0,t="";return""===j||""===A||""===D||j.length<2?(e=!1,t="Did you fill all the fields in the Card Details section?"):0===Z.length&&0===G.length?(e=!1,t="Did you choose a site / owner?"):E.filter((function(e){return e.description.toLowerCase()===j.toLowerCase()})).length>0&&(e=!1,t="The description you chose already exists!"),!!e||(f("error",t),!1)},Ve=function(){M(""),X(""),re(""),ce(""),ee(""),Pe(""),S(""),F(""),T("")},Ke=function(){var e=ze.collection("users").doc(Ge.currentUser.uid).collection("cards"),t={description:j,color:A,icon:D.icon,site:G?Object(zt.a)(G.map((function(e){return e.site}))):[],owner:Z?Object(zt.a)(Z.map((function(e){return e.uid}))):[],category:Object(zt.a)(ne),supplier:Object(zt.a)(oe),storage:Object(zt.a)(_),warrantyEndPeriod:Fe};e.add(t).then((function(){console.log("Document successfully written!");var e=E;qe([]),e.push(t),qe(e),f("success","Successfully added the card!")})).catch((function(e){console.error("Error writing document: ",e),f("error","Failed to add the card!")}))},qe=function(e){x(e)},Ye=function(){ze.collection("users").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={uid:e.id,email:a.email,fullName:a.fullName};t.push(n)})),ue(t)}))},Qe=function(){var e={};ze.collection("suppliers").get().then((function(t){t.forEach((function(t){var a=t.data();e[a.site]?e[a.site].push(a.supplierName):e[a.site]=[a.supplierName]})),we(e)}))},Ze=function(){ze.collection("sites").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={site:e.id,categories:a.categoriesArr,storages:a.storageTypesArr};t.push(n)})),q(t)}))};Object(n.useEffect)((function(){Ye(),Ze(),Qe()}),[]);return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:g,onClose:Me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:d.dialogPaper}},r.a.createElement(jt.a,{id:"form-dialog-title"},"Create A New Card"),r.a.createElement(Ot.a,null,r.a.createElement($t.a,{variant:"subtitle1",color:"textPrimary",style:{textAlign:"left",marginTop:"-1vh"}},"Card Details:"),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(aa.a,null)),r.a.createElement(Ce.a,(t={item:!0},Object(v.a)(t,"item",!0),Object(v.a)(t,"xs",11),t),j&&j.length<2?r.a.createElement(Vt.a,{style:{width:"95%",marginBottom:"0.5vh"},required:!0,error:!0,helperText:"Description should be at least 2 characters.",id:"input-card-description",label:"Card Description",value:j,onChange:function(e){return S(e.target.value)}}):r.a.createElement(Vt.a,{style:{width:"95%",marginBottom:"0.5vh"},required:!0,id:"input-card-description",label:"Card Description",value:j,onChange:function(e){return S(e.target.value)}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ra.a,null)),r.a.createElement(Ce.a,(a={item:!0},Object(v.a)(a,"item",!0),Object(v.a)(a,"xs",5),a),r.a.createElement(W.a,{className:d.formControl},r.a.createElement(H.a,{required:!0,id:"color-label"},"Color"),r.a.createElement(_t.a,{labelId:"color-label",id:"color-select",value:A,onChange:function(e){return T(e.target.value)}},r.a.createElement(N.a,{value:"success",style:{color:"green"}},"Green"),r.a.createElement(N.a,{value:"warning",style:{color:"orange"}},"Orange"),r.a.createElement(N.a,{value:"info",style:{color:"cyan"}},"Cyan"),r.a.createElement(N.a,{value:"danger",style:{color:"red"}},"Red"),r.a.createElement(N.a,{value:"primary",style:{color:"purple"}},"Purple")))),r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ia.a,null)),r.a.createElement(Ce.a,(l={item:!0},Object(v.a)(l,"item",!0),Object(v.a)(l,"xs",5),l),r.a.createElement(W.a,{className:d.formControl},r.a.createElement(H.a,{required:!0,id:"select-icon-label"},"Card Icon"),r.a.createElement(_t.a,{labelId:"select-icon-label",id:"select-icon-supplier",value:D,style:{maxHeight:"32px"},renderValue:function(e){return r.a.createElement(ut.a,null,e.icon)},onChange:function(e){F(e.target.value)},input:r.a.createElement(z.a,null)},Jt.map((function(e,t){return r.a.createElement(N.a,{value:e,key:t},r.a.createElement(ea.a,null,r.a.createElement(ut.a,null,e.icon)),r.a.createElement(pt.a,{primary:e.description}))})))))),r.a.createElement(B.a,{style:{marginTop:"2vh"},light:!0}),r.a.createElement($t.a,{variant:"subtitle1",color:"textPrimary",style:{marginTop:"1vh",marginBottom:"-3vh",textAlign:"left"}},"Card Content:"),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(L.a,null)),r.a.createElement(Ce.a,(i={item:!0},Object(v.a)(i,"item",!0),Object(v.a)(i,"xs",5),i),r.a.createElement(Xt,{acID:"checkboxes-owners",valuesArr:pe,isMultiple:!0,handleSetNewVal:X,tfLabel:"Owner",isDisabled:G.length>0})),r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ca.a,null)),r.a.createElement(Ce.a,(o={item:!0},Object(v.a)(o,"item",!0),Object(v.a)(o,"xs",5),o),r.a.createElement(Xt,{acID:"checkboxes-sites",valuesArr:K,isMultiple:!0,handleSetNewVal:function(e){M(e),1===e.length?(ve(e[0].categories),he(e[0].storages),ke(Se[e[0].site]?Se[e[0].site]:[])):(ee(""),he([]),re(""),ve([]),ce(""),ke([]))},tfLabel:"Site",isDisabled:Z.length>0}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ga.a,null)),r.a.createElement(Ce.a,(c={item:!0},Object(v.a)(c,"item",!0),Object(v.a)(c,"xs",5),c),r.a.createElement(Xt,{acID:"checkboxes-storages",valuesArr:be,isMultiple:!0,handleSetNewVal:ee,tfLabel:"Storage",isDisabled:0===be.length||Z.length>0||ne.length>0||oe.length>0})),r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ma.a,null)),r.a.createElement(Ce.a,(s={item:!0},Object(v.a)(s,"item",!0),Object(v.a)(s,"xs",5),s),r.a.createElement(Xt,{acID:"checkboxes-categories",valuesArr:xe,isMultiple:!0,handleSetNewVal:re,tfLabel:"Category",isDisabled:0===xe.length||Z.length>0||_.length>0||oe.length>0}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ua.a,null)),r.a.createElement(Ce.a,(m={item:!0},Object(v.a)(m,"item",!0),Object(v.a)(m,"xs",5),m),r.a.createElement(Xt,{acID:"checkboxes-suppliers",valuesArr:Ne,isMultiple:!0,handleSetNewVal:ce,tfLabel:"Supplier",isDisabled:0===Ne.length||Z.length>0||ne.length>0||_.length>0})),r.a.createElement(Ce.a,{item:!0,xs:1},r.a.createElement(ha.a,null)),r.a.createElement(Ce.a,(u={item:!0},Object(v.a)(u,"item",!0),Object(v.a)(u,"xs",5),u),r.a.createElement(Xt,{acID:"checkboxes-warrantyEnd",valuesArr:Le,isMultiple:!1,handleSetNewVal:Pe,tfLabel:"Warranty End Period",isDisabled:!1}))),r.a.createElement(B.a,{style:{marginTop:"2vh"},light:!0})),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:Me,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){Ue()&&(Ke(),h(!1),Ve())},color:"primary"},"Add")))}var Ea={successText:{color:_[0]},upArrowCardCategory:{width:"16px",height:"16px"},addCardButton:{width:"100px",float:"right"},stats:{color:ae[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:ae[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+q("#FFF")+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:ae[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:ae[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:"#FFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:ae[1],fontWeight:"400",lineHeight:"1"}}},xa=a(558),va=a(568);function Oa(e){return r.a.createElement(va.a,Object.assign({elevation:6,variant:"filled"},e))}var ya=Object(x.a)(Ea),ja={background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"};var Sa=a(107),wa=a.n(Sa),Ca=a(164),Aa=a.n(Ca);function Ta(e){var t=e.title,a=e.headerBackground,l=e.data,i=e.setData,o=e.handleOpenAlert,c=e.handleOpenVerifyOperation,s=e.setOpenEditSupplier,m=e.verifyOperationBool,u=e.setVerifyOperationBool,d=e.handleSetEditSupplier,g=e.setSupplierCount,h=Object(n.useState)(null),f=Object(p.a)(h,2),E=f[0],x=f[1],v=Object(n.useState)(""),O=Object(p.a)(v,2),y=O[0],j=O[1];Object(n.useEffect)((function(){!0===m&&(S(),u(!1))}),[m]);var S=function(){var e=b.firestore().collection("suppliers").where("supplierName","==",y.supplierName),t=l.length-1;e.get().then((function(e){e.forEach((function(e){e.ref.delete()})),function(e){var t=l.filter((function(t){return t!==e}));i(t)}(y),g(t),o("success","Successfully deleted the supplier(s).")})).catch((function(e){o("error","Failed to delete the supplier(s)."),console.error("Error removing document: ",e)}))};return r.a.createElement(wa.a,{isLoading:0===l.length,title:t,columns:[{title:"Actions",field:"notes",export:!1,render:function(e){return r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"inherit","aria-label":"edit device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){d(e),s(!0)}},r.a.createElement(Aa.a,null)),r.a.createElement(w.a,{color:"inherit","aria-label":"delete device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){return j(t=e),void c("Do you really want to delete the supplier "+t.supplierName+"?","Once performed, this action can not be undone!");var t}},r.a.createElement(Et.a,null)))}},{title:"Supplier Name",field:"supplierName"},{title:"Address",field:"address"},{title:"Service Type",field:"serviceType"},{title:"Contact",field:"contact",hidden:!0},{title:"Site",field:"site"},{title:"SLA",field:"sla"},{title:"TIN",field:"tin"}],data:l,onRowClick:function(e,t){x(t.tableData.id)},detailPanel:function(e){var t=l.filter((function(t){return t.tin===e.tin}))[0];return r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"Name: "),t.supplierName,r.a.createElement("br",null),r.a.createElement("strong",null,"Address: "),t.address,r.a.createElement("br",null),r.a.createElement("strong",null,"Service Type: "),t.serviceType,r.a.createElement("br",null),r.a.createElement("strong",null,"Contact: "),t.contact,r.a.createElement("br",null),r.a.createElement("strong",null,"Site: "),t.site,r.a.createElement("br",null),r.a.createElement("strong",null,"SLA (Service Level Agreement): "),t.sla,r.a.createElement("br",null),r.a.createElement("strong",null,"TIN (Taxpayer Identification Number): "),t.tin,r.a.createElement("br",null),r.a.createElement("strong",null,"Notes: "),t.notes,r.a.createElement("br",null)))},options:{rowStyle:function(e){return{backgroundColor:E===e.tableData.id?"#EEE":"#FFF"}},headerStyle:{backgroundColor:a,color:"#FFF"},exportButton:!0}})}var Na=a(378),ka=a(125),Ia=a.n(ka),Da=a(108),Fa=a.n(Da),Pa=a(126),Ba=a.n(Pa),Ra=a(565),La=a(94),Wa=a.n(La),Ha=a(84),za=a.n(Ha),Ga=a(149),Ma=a.n(Ga),Ua=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{minHeight:"75vh",maxHeight:"75vh"},formControl:{margin:e.spacing(1),width:"75%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},secondPlusButton:{marginLeft:e.spacing(3.5)},selectGridItem:{marginRight:e.spacing(-5)}})}));function Va(e){var t=Ua(),a=e.open,l=e.setOpen,i=e.supplierSite,o=e.handleOpenAlert,c=e.sitesData,s=e.handleSetSuppliersTable,m=e.suppliersTableData,u=e.setSupplierCount,d=Object(n.useState)(""),g=Object(p.a)(d,2),h=g[0],f=g[1],E=Object(n.useState)(""),x=Object(p.a)(E,2),v=x[0],O=x[1],y=Object(n.useState)(""),j=Object(p.a)(y,2),S=j[0],w=j[1],C=Object(n.useState)(""),A=Object(p.a)(C,2),T=A[0],k=A[1],I=Object(n.useState)(""),D=Object(p.a)(I,2),F=D[0],P=D[1],B=Object(n.useState)(""),R=Object(p.a)(B,2),L=R[0],G=R[1],M=Object(n.useState)(""),U=Object(p.a)(M,2),V=U[0],K=U[1],q=Object(n.useState)(""),Y=Object(p.a)(q,2),Q=Y[0],Z=Y[1],X=Object(n.useState)([]),J=Object(p.a)(X,2),$=(J[0],J[1],Object(n.useState)([])),_=Object(p.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)(!1),ne=Object(p.a)(ae,2),re=(ne[0],ne[1],function(){l(!1)}),le=function(e){var t=b.firestore().collection("suppliers"),a=m.length+1;t.add(e).then((function(){u(a),function(e){var t=m;t.push(e),s(t)}(e),o("success","Successfully added the supplier!")})).catch((function(e){o("error","Failed to add the supplier!")}))},ie=function(){var e=!0,t="";return h.length<2||v.length<4||L.length<2||V.length<4?(e=!1,t="Did you fill all the text input fields properly?"):(""===S||""===F&&""===i)&&(e=!1,t="Did you fill all the select fields properly?"),!!e||(o("error",t),!1)};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onClose:re,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:t.dialogPaper}},r.a.createElement(jt.a,null,"Would you like to add a new supplier?"),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==h&&h.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:t.margin,label:"Supplier Name",value:h,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(ua.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"Supplier Name",value:h,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(ua.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},""!==v&&v.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"Address should be at least 4 characters.",className:t.margin,label:"Address",value:v,onChange:function(e){O(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ia.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"Address",value:v,onChange:function(e){O(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ba.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==L&&L.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"SLA should be at least 2 characters.",className:t.margin,label:"SLA",value:L,onChange:function(e){G(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"SLA",value:L,onChange:function(e){G(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},""!==V&&V.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"TIN should be at least 4 characters.",className:t.margin,label:"TIN",value:V,onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"TIN",value:V,onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}))),r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"5px"}},r.a.createElement(Ce.a,{item:!0,style:{marginBottom:"5px",marginRight:"-10px"}},r.a.createElement(Ia.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-supplier-site-label"},"Site"),r.a.createElement(_t.a,{labelId:"select-supplier-site-label",id:"select-supplier-site",value:i?c[0]:F,style:{width:"105%"},disabled:!!i,onChange:function(e){var t=e.target.value;P(t),te(t?t.serviceTypesArr:[])},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),c.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e.site)}))))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-9px",marginBottom:"5px",marginRight:"-10px"}},r.a.createElement(Fa.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:t.selectGridItem},r.a.createElement(W.a,{className:t.formControlSecondSelect},r.a.createElement(H.a,{id:"select-supplier-service-type-label"},"Service Type"),r.a.createElement(_t.a,{labelId:"select-supplier-service-type-label",id:"select-supplier-service-type",value:S,onChange:function(e){return w(e.target.value)},input:r.a.createElement(z.a,null),style:{width:"93%"}},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),i?c.length?c[0].serviceTypesArr.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})):"":ee.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})))))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"98%",marginTop:"20px"},id:"text-field-contact",label:"Contact",multiline:!0,value:T,onChange:function(e){k(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ra.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"98%",marginTop:"20px"},id:"text-field-supplier-notes",label:"Notes",multiline:!0,value:Q,onChange:function(e){Z(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ma.a,null))}})))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:re,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){if(ie()){var e=i?c[0].site:F.site,t={supplierName:h,address:v,sla:L,tin:V,site:e,serviceType:S,contact:T,notes:Q};i?s(t):le(t),f(""),O(""),w(""),k(""),P(""),G(""),K(""),Z(""),l(!1)}},color:"primary"},"Ok")))}var Ka,qa=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{minHeight:"75vh",maxHeight:"75vh"},formControl:{margin:e.spacing(1),width:"75%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},secondPlusButton:{marginLeft:e.spacing(3.5)},selectGridItem:{marginRight:e.spacing(-5)}})}));function Ya(e){var t=qa(),a=e.open,l=e.setOpen,i=e.supplierSite,o=e.handleOpenAlert,c=e.sitesData,s=e.handleSetSuppliersTable,m=e.suppliersTableData,u=e.existingSupplier,d=Object(n.useState)(u.supplierName),g=Object(p.a)(d,2),h=g[0],f=g[1],E=Object(n.useState)(u.address),x=Object(p.a)(E,2),v=x[0],O=x[1],y=Object(n.useState)(u.serviceType),j=Object(p.a)(y,2),S=j[0],w=j[1],C=Object(n.useState)(u.contact),A=Object(p.a)(C,2),T=A[0],k=A[1],I=Object(n.useState)(c.filter((function(e){return e.site===u.site}))[0]),D=Object(p.a)(I,2),F=D[0],P=D[1],B=Object(n.useState)(u.sla),R=Object(p.a)(B,2),L=R[0],G=R[1],M=Object(n.useState)(u.tin),U=Object(p.a)(M,2),V=U[0],K=U[1],q=Object(n.useState)(u.notes),Y=Object(p.a)(q,2),Q=Y[0],Z=Y[1],X=Object(n.useState)([]),J=Object(p.a)(X,2),$=(J[0],J[1],Object(n.useState)(F.serviceTypesArr)),_=Object(p.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)(!1),ne=Object(p.a)(ae,2),re=(ne[0],ne[1],function(){l(!1)}),le=function(e){var t=b.firestore(),a=t.collection("suppliers"),n=t.collection("devices").where("supplier","==",u.supplierName);a.where("supplierName","==",u.supplierName).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){a.add(e).then((function(){ie(e),n.get().then((function(t){t.forEach((function(t){t.ref.update({supplier:e.supplierName})}))})).then((function(){o("success","Successfully updated the supplier!")})).catch((function(e){o("error","Failed to update the existing supplier!")}))})).catch((function(e){o("error","Failed to update the existing supplier!")}))})).catch((function(e){o("error","Failed to update the existing supplier!")}))}))}))},ie=function(e){var t=m.filter((function(e){return e.supplierName!==u.supplierName}));t.push(e),s(t),console.log("TEMPARR",t)},oe=function(){var e=!0,t="";return h.length<2||v.length<4||L.length<2||V.length<4?(e=!1,t="Did you fill all the text input fields properly?"):(""===S||""===F&&""===i)&&(e=!1,t="Did you fill all the select fields properly?"),!!e||(o("error",t),!1)};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onClose:re,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:t.dialogPaper}},r.a.createElement(jt.a,null,"Would you like to add a new supplier?"),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==h&&h.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:t.margin,label:"Supplier Name",value:h,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(ua.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"Supplier Name",value:h,onChange:function(e){f(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(ua.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},""!==v&&v.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"Address should be at least 4 characters.",className:t.margin,label:"Address",value:v,onChange:function(e){O(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ia.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"Address",value:v,onChange:function(e){O(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ba.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==L&&L.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"SLA should be at least 2 characters.",className:t.margin,label:"SLA",value:L,onChange:function(e){G(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"SLA",value:L,onChange:function(e){G(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},""!==V&&V.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"TIN should be at least 4 characters.",className:t.margin,label:"TIN",value:V,onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}):r.a.createElement(Vt.a,{className:t.margin,label:"TIN",value:V,onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}))),r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"5px"}},r.a.createElement(Ce.a,{item:!0,style:{marginBottom:"5px",marginRight:"-10px"}},r.a.createElement(Ia.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-supplier-site-label"},"Site"),r.a.createElement(_t.a,{labelId:"select-supplier-site-label",id:"select-supplier-site",value:i?c[0]:F,style:{width:"105%"},disabled:!!i,onChange:function(e){var t=e.target.value;console.log(t),P(t),te(t?t.serviceTypesArr:[])},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),c.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e.site)}))))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-9px",marginBottom:"5px",marginRight:"-10px"}},r.a.createElement(Fa.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:t.selectGridItem},r.a.createElement(W.a,{className:t.formControlSecondSelect},r.a.createElement(H.a,{id:"select-supplier-service-type-label"},"Service Type"),r.a.createElement(_t.a,{labelId:"select-supplier-service-type-label",id:"select-supplier-service-type",value:S,onChange:function(e){return w(e.target.value)},input:r.a.createElement(z.a,null),style:{width:"93%"}},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),i?c.length?c[0].serviceTypesArr.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})):"":ee.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})))))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"98%",marginTop:"20px"},id:"text-field-contact",label:"Contact",multiline:!0,value:T,onChange:function(e){k(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ra.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"98%",marginTop:"20px"},id:"text-field-supplier-notes",label:"Notes",multiline:!0,value:Q,onChange:function(e){Z(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ma.a,null))}})))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:re,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){if(oe()){var e={supplierName:h,address:v,sla:L,tin:V,site:F.site,serviceType:S,contact:T,notes:Q};le(e),f(""),O(""),w(""),k(""),P(""),G(""),K(""),Z(""),l(!1)}},color:"primary"},"Ok")))}function Qa(e){return r.a.createElement(va.a,Object.assign({elevation:6,variant:"filled"},e))}var Za={cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},addSupplierButton:{maxWidth:"10%",float:"right",marginTop:"-47px"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},headerColor:(Ka={background:"linear-gradient(45deg, #2196f3 30%, #21cbf3 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .30)",margin:"0 15px",padding:"0",position:"relative"},Object(v.a)(Ka,"padding","0.75rem 1.25rem"),Object(v.a)(Ka,"marginBottom","0"),Object(v.a)(Ka,"borderBottom","none"),Object(v.a)(Ka,"borderRadius","3px"),Object(v.a)(Ka,"marginTop","-20px"),Object(v.a)(Ka,"padding","15px"),Object(v.a)(Ka,"height","5.75rem"),Ka)},Xa=Object(x.a)((function(e){return{leftUpperSelectFormControl:{margin:e.spacing(1),marginLeft:e.spacing(0),minWidth:"10rem",marginBottom:e.spacing(3)},upperSelectFormControl:{margin:e.spacing(1),minWidth:"10rem"},filterButton:{maxWidth:"5%",marginTop:e.spacing(1),marginLeft:e.spacing(1),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:"3",border:"0",color:"white",height:"55px",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}}})),Ja=Object(x.a)(Za);function $a(e){var t=e.dialogTitle,a=e.openSelectDialog,n=e.handleCloseDialog,l=e.handleOkDialog,i=e.selectValue,o=e.setSelectValue,c=e.selectLabel;return r.a.createElement(xt.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-title"},r.a.createElement(jt.a,{id:"form-dialog-title"},t),r.a.createElement(Ot.a,null,r.a.createElement(Vt.a,{autoFocus:!0,margin:"dense",label:c,type:"text",value:i,onChange:function(e){return o(e.target.value)},fullWidth:!0})),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:l,color:"primary"},"Add")))}var _a=a(566),en=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},nameTextField:{margin:e.spacing(1),width:"66%"},dialogPaper:{minHeight:"33rem",maxHeight:"33rem"},formControl:{margin:e.spacing(1),marginTop:e.spacing(-2),width:"80%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),marginTop:e.spacing(-2),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(-1),marginLeft:e.spacing(-10)},secondPlusButton:{marginLeft:e.spacing(3.5)},selectGridItem:{marginRight:e.spacing(-5)}})}));function tn(e){var t=en(),a=e.open,l=e.setOpen,i=e.handleOpenAlert,o=e.sitesNamesArr,c=e.setSitesTableData,s=e.sitesTableData,m=e.setSiteCount,u=e.setStorageCount,d=e.getStoragesCount,g=Object(n.useState)([]),h=Object(p.a)(g,2),f=h[0],E=h[1],x=Object(n.useState)(""),v=Object(p.a)(x,2),O=v[0],y=v[1],j=Object(n.useState)(["Office","Home","Repair Lab"]),S=Object(p.a)(j,2),C=S[0],A=S[1],T=Object(n.useState)(["Technician","Consultant","Delivery","Repair Lab"]),k=Object(p.a)(T,2),I=k[0],D=k[1],F=Object(n.useState)([]),P=Object(p.a)(F,2),B=P[0],R=P[1],L=Object(n.useState)(["Workstation","Laptop","Accessories","Mobile","Tablet"]),G=Object(p.a)(L,2),M=G[0],U=G[1],V=Object(n.useState)(""),K=Object(p.a)(V,2),q=K[0],Y=K[1],Q=Object(n.useState)(!1),Z=Object(p.a)(Q,2),X=Z[0],J=Z[1],$=Object(n.useState)(!1),_=Object(p.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],ie=Object(n.useState)(!1),oe=Object(p.a)(ie,2),ce=oe[0],se=oe[1],me=Object(n.useState)(""),pe=Object(p.a)(me,2),ue=pe[0],de=pe[1],ge=function(){l(!1)},be=function(){y(""),A(["Home Storage","Lab","Other"]),D([]),R([]),U([]),Y("")},he=function(){return O.length>=2&&C.length&&I.length&&M.length&&!o.filter((function(e){return e.toLowerCase()===O.toLowerCase()})).length},fe=function(){var e=b.firestore(),t=e.collection("sites").doc(O),a=e.collection("suppliers"),n=s.length+1,r=d()+C.length,l={serviceTypesArr:I,storageTypesArr:C,categoriesArr:M,note:q},o={name:O,serviceTypesArr:I,storageTypesArr:C,categoriesArr:M,note:q,suppliersArr:B};t.set(l).then((function(){B.forEach((function(e){a.add(e).then((function(e){console.log("Supplier written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)}))})),m(n),function(e){u(e)}(r),function(){if(B.length>0){var e=b.firestore();console.log("ayyo waddup?");var t=e.collection("counters").doc("suppliers");t.get().then((function(e){if(e.exists){var a=e.data().count+B.length;t.update({count:a})}}))}}(),function(e){var t=e.suppliersArr.map((function(e){return e.supplierName})),a={name:e.name,storageTypesArr:e.storageTypesArr,storageTypesArrCount:e.storageTypesArr.length,suppliersArr:t,suppliersArrCount:e.suppliersArr.length,serviceTypesArr:e.serviceTypesArr,categoriesArr:e.categoriesArr,note:e.note},n=s;n.push(a),c(n)}(o),i("success","The site was successfully added!")})).catch((function(e){console.error("Error writing document: ",e)}))},Ee=function(){var e={site:O,serviceTypesArr:I};console.log("EREZ TESTING HERE",[e]),E([e])};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onClose:ge,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:t.dialogPaper}},r.a.createElement(jt.a,null,"Would you like to add a new site?"),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce.a,{item:!0,xs:12,style:{marginLeft:"-2rem",display:"flex",alignItems:"center",justifyContent:"center"}},""!==O&&O.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:t.nameTextField,label:"Name",value:O,onChange:function(e){y(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}}):r.a.createElement(Vt.a,{className:t.nameTextField,label:"Name",value:O,onChange:function(e){y(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ba.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce.a,{item:!0,xs:12,style:{marginLeft:"-2rem",marginTop:"-0.5rem",marginBottom:"-0.5rem",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Vt.a,{className:t.nameTextField,label:"Note",value:q,onChange:function(e){Y(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-storageTypesArr-label"},"Storages"),r.a.createElement(_t.a,{labelId:"select-storageTypesArr-label",id:"select-storageTypesArr",value:"",input:r.a.createElement(z.a,null)},C.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),C.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){J(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-serviceTypesArr-label"},"Suppliers Services Types"),r.a.createElement(_t.a,{labelId:"select-serviceTypesArr-label",id:"select-serviceTypesArr",value:"",input:r.a.createElement(z.a,null)},I.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),I.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){te(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-categoriesArr-label"},"Products Categories"),r.a.createElement(_t.a,{labelId:"select-categoriesArr-label",id:"select-categoriesArr",value:"",input:r.a.createElement(z.a,null)},M.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),M.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-category-type",onClick:function(){le(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-suppliersArr-label"},"Suppliers"),r.a.createElement(_t.a,{labelId:"select-suppliersArr-label",id:"select-suppliersArr",value:"",input:r.a.createElement(z.a,null)},B.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),B.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:t+1},e.supplierName)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){Ee(),se(!0)},disabled:!I.length},r.a.createElement(_a.a,null))))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:ge,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){he()?(fe(),be(),l(!1)):i("error","The site already exists or some of the details are missing.")},color:"primary"},"Ok")),r.a.createElement($a,{dialogTitle:"Add Storage",openSelectDialog:X,handleCloseDialog:function(){J(!1)},handleOkDialog:function(){var e=C;e.push(ue),A(Array.from(new Set(e))),de(""),J(!1)},selectValue:ue,setSelectValue:de,selectLabel:"Storage Name"}),r.a.createElement($a,{dialogTitle:"Add Service Type",openSelectDialog:ee,handleCloseDialog:function(){te(!1)},handleOkDialog:function(){var e=I;e.push(ue),D(Array.from(new Set(e))),de(""),te(!1)},selectValue:ue,setSelectValue:de,selectLabel:"Supplier Service Type"}),r.a.createElement($a,{dialogTitle:"Add Category",openSelectDialog:re,handleCloseDialog:function(){le(!1)},handleOkDialog:function(){var e=M;e.push(ue),U(Array.from(new Set(e))),de(""),le(!1)},selectValue:ue,setSelectValue:de,selectLabel:"Storage Name"}),r.a.createElement(Va,{open:ce,setOpen:se,supplierSite:"__new_site__",sitesData:f,handleSetSuppliersTable:function(e){var t=B;t.push(e),R(t),console.log("TEMPARR",t)},handleOpenAlert:i}))}var an,nn=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},nameTextField:{margin:e.spacing(1),width:"66%"},dialogPaper:{minHeight:"33rem",maxHeight:"33rem"},formControl:{margin:e.spacing(1),marginTop:e.spacing(-2),width:"80%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),marginTop:e.spacing(-2),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(-1),marginLeft:e.spacing(-10)},secondPlusButton:{marginLeft:e.spacing(3.5)},selectGridItem:{marginRight:e.spacing(-5)}})}));function rn(e){var t=nn(),a=e.open,l=e.setOpen,i=e.handleOpenAlert,o=(e.sitesNamesArr,e.setSitesTableData),c=e.sitesTableData,s=e.existingSite,m=Object(n.useState)([]),u=Object(p.a)(m,2),d=u[0],g=u[1],h=Object(n.useState)(s.name),f=Object(p.a)(h,2),E=f[0],x=f[1],v=Object(n.useState)(Object(zt.a)(s.storageTypesArr)),O=Object(p.a)(v,2),y=O[0],j=O[1],S=Object(n.useState)(Object(zt.a)(s.serviceTypesArr)),C=Object(p.a)(S,2),A=C[0],T=C[1],k=Object(n.useState)(Object(zt.a)(s.suppliersArr)),I=Object(p.a)(k,2),D=I[0],F=I[1],P=Object(n.useState)(Object(zt.a)(s.categoriesArr)),B=Object(p.a)(P,2),R=B[0],L=B[1],G=Object(n.useState)(s.note),M=Object(p.a)(G,2),U=M[0],V=M[1],K=Object(n.useState)(!1),q=Object(p.a)(K,2),Y=q[0],Q=q[1],Z=Object(n.useState)(!1),X=Object(p.a)(Z,2),J=X[0],$=X[1],_=Object(n.useState)(!1),ee=Object(p.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(p.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)(""),ce=Object(p.a)(oe,2),se=ce[0],me=ce[1];Object(n.useEffect)((function(){console.log("EXISTING SITE",s),console.log("NAME",E),console.log("STORAGETYPES",y),console.log("SERVICETYPES",A),console.log("CATEGORIES",R),console.log("SUPPLIERS",D),console.log("NOTE",U)}),[]);var pe=function(){l(!1)},ue=function(){return E.length>=2&&y.length&&A.length},de=function(){return console.log("EXISTEXISTEXISTEXIS",s.storageTypesArr),console.log("NEWNENWNEWNNEW",y),console.log("ISISISISIIS",s.storageTypesArr.length!==y.length),s.name!==E||s.storageTypesArr.length!==y.length||s.serviceTypesArr.length!==A.length||s.categoriesArr.length!==R.length||s.note!==U},ge=function(e){var t={name:e.name,storageTypesArr:e.storageTypesArr,storageTypesArrCount:e.storageTypesArr.length,suppliersArr:e.suppliersArr,suppliersArrCount:e.suppliersArr.length,serviceTypesArr:e.serviceTypesArr,categoriesArr:e.categoriesArr,note:e.note},a=c.filter((function(e){return e.name!==s.name}));a.push(t),console.log("CURSITESTABLEDATA ======> ",a),o(a)},be=function(){var e=b.firestore(),t=e.collection("sites").doc(s.name),a=e.collection("sites").doc(E),n=e.collection("suppliers").where("site","==",s.name),r=e.collection("devices").where("site","==",s.name),l={serviceTypesArr:A,storageTypesArr:y,categoriesArr:R,note:U},o={name:E,serviceTypesArr:A,storageTypesArr:y,categoriesArr:R,note:U,suppliersArr:D};s.name===E?a.update(l).then((function(){n.get().then((function(e){e.forEach((function(e){e.ref.update({site:E})}))})).catch((function(e){i("error","Failed to update the site through the different suppliers!"),console.error("Error writing document: ",e)})),r.get().then((function(e){e.forEach((function(e){e.ref.update({site:E})}))})).catch((function(e){i("error","Failed to update the site through the different devices!"),console.error("Error writing document: ",e)})),ge(o),i("success","The site was successfully updated!")})).catch((function(e){i("error","Failed to update the site!"),console.error("Error writing document: ",e)})):(t.delete(),a.set(l).then((function(){n.get().then((function(e){e.forEach((function(e){e.ref.update({site:E})}))})).catch((function(e){i("error","Failed to update the site through the different suppliers!"),console.error("Error writing document: ",e)})),r.get().then((function(e){e.forEach((function(e){e.ref.update({site:E})}))})).catch((function(e){i("error","Failed to update the site through the different devices!"),console.error("Error writing document: ",e)})),ge(o),i("success","The site was successfully updated!")})).catch((function(e){i("error","Failed to update the site!"),console.error("Error writing document: ",e)})))},he=function(){var e={site:E,serviceTypesArr:A};console.log("EREZ TESTING HERE",[e]),g([e])};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:a,onClose:pe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:t.dialogPaper}},r.a.createElement(jt.a,null,"Would you like to add a new site?"),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce.a,{item:!0,xs:12,style:{marginLeft:"-2rem",display:"flex",alignItems:"center",justifyContent:"center"}},""!==E&&E.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:t.nameTextField,label:"Name",value:E,onChange:function(e){x(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}}):r.a.createElement(Vt.a,{className:t.nameTextField,label:"Name",value:E,onChange:function(e){x(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Ba.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ce.a,{item:!0,xs:12,style:{marginLeft:"-2rem",marginTop:"-0.5rem",marginBottom:"-0.5rem",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Vt.a,{className:t.nameTextField,label:"Note",value:U,onChange:function(e){V(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Wa.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-storageTypesArr-label"},"Storages"),r.a.createElement(_t.a,{labelId:"select-storageTypesArr-label",id:"select-storageTypesArr",value:"",input:r.a.createElement(z.a,null)},y.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),y.length&&y.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){Q(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-serviceTypesArr-label"},"Suppliers Services Types"),r.a.createElement(_t.a,{labelId:"select-serviceTypesArr-label",id:"select-serviceTypesArr",value:"",input:r.a.createElement(z.a,null)},A.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),A.length&&A.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){$(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-categoriesArr-label"},"Products Categories"),r.a.createElement(_t.a,{labelId:"select-categoriesArr-label",id:"select-categoriesArr",value:"",input:r.a.createElement(z.a,null)},R.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),R.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-category-type",onClick:function(){ae(!0)}},r.a.createElement(_a.a,null))),r.a.createElement(Ce.a,{item:!0,xs:10},r.a.createElement(W.a,{className:t.formControl},r.a.createElement(H.a,{id:"select-suppliersArr-label"},"Suppliers"),r.a.createElement(_t.a,{labelId:"select-suppliersArr-label",id:"select-suppliersArr",value:"",input:r.a.createElement(z.a,null)},D.length>0?"":r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),D.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:t+1},e)}))))),r.a.createElement(Ce.a,{item:!0,className:t.plusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){he(),ie(!0)},disabled:!0},r.a.createElement(_a.a,null))))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:pe,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){ue()?de()?(be(),l(!1)):l(!1):i("error","The site already exists or the name is too short.")},color:"primary"},"Ok")),r.a.createElement($a,{dialogTitle:"Add Storage",openSelectDialog:Y,handleCloseDialog:function(){Q(!1)},handleOkDialog:function(){var e=y;e.push(se),j(Array.from(new Set(e))),me(""),Q(!1)},selectValue:se,setSelectValue:me,selectLabel:"Storage Name"}),r.a.createElement($a,{dialogTitle:"Add Service Type",openSelectDialog:J,handleCloseDialog:function(){$(!1)},handleOkDialog:function(){var e=A;e.push(se),T(Array.from(new Set(e))),me(""),$(!1)},selectValue:se,setSelectValue:me,selectLabel:"Supplier Service Type"}),r.a.createElement($a,{dialogTitle:"Add Category",openSelectDialog:te,handleCloseDialog:function(){ae(!1)},handleOkDialog:function(){var e=R;e.push(se),L(Array.from(new Set(e))),me(""),ae(!1)},selectValue:se,setSelectValue:me,selectLabel:"Storage Name"}),r.a.createElement(Va,{open:le,setOpen:ie,supplierSite:"__new_site__",sitesData:d,handleSetSuppliersTable:function(e){var t=D;t.push(e),F(t),console.log("TEMPARR",t)},handleOpenAlert:i}))}function ln(e){var t=e.title,a=e.headerBackground,l=e.data,i=e.setData,o=e.handleOpenAlert,c=e.handleSetEditSite,s=e.setOpenEditSite,m=e.handleOpenVerifyOperation,u=e.verifyOperationBool,d=e.setVerifyOperationBool,g=e.setSiteCount,h=e.setStorageCount,f=e.getStoragesCount,E=Object(n.useState)(null),x=Object(p.a)(E,2),v=x[0],O=x[1],y=Object(n.useState)(""),j=Object(p.a)(y,2),S=j[0],C=j[1];Object(n.useEffect)((function(){!0===u&&(A(),d(!1))}),[u]);var A=function(){var e=b.firestore().collection("sites").doc(S.name),t=l.length-1,a=f()-S.storageTypesArrCount;e.delete().then((function(){!function(e){var t=l.filter((function(t){return t!==e}));i(t)}(S),g(t),function(e){h(e)}(a),o("success","Successfully deleted the site!")})).catch((function(e){o("error","Failed to delete the site!"),console.error("Error removing document: ",e)}))};return r.a.createElement(wa.a,{isLoading:0===l.length,title:t,columns:[{title:"Actions",field:"notes",render:function(e){return r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"inherit","aria-label":"edit device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){c(e),s(!0)}},r.a.createElement(Aa.a,null)),r.a.createElement(w.a,{color:"inherit","aria-label":"delete device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){return C(t=e),void m("Do you really want to delete the site "+t.name+"?","Once performed, this action can not be undone!");var t}},r.a.createElement(Et.a,null)))}},{title:"Name",field:"name"},{title:"Storages Count",field:"storageTypesArrCount"},{title:"Storages",field:"storageTypesArr",hidden:!0,export:!0},{title:"Suppliers Count",field:"suppliersArrCount"},{title:"Suppliers",field:"suppliersArr",hidden:!0,export:!0},{title:"Note",field:"note"}],data:l,onRowClick:function(e,t){O(t.tableData.id),e.target.ondblclick=function(){console.log(t)}},detailPanel:function(e){var t=l.filter((function(t){return t.name===e.name}))[0];return r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"Name: "),t.name,r.a.createElement("br",null),r.a.createElement("strong",null,"Storages Count: "),t.storageTypesArrCount,r.a.createElement("br",null),r.a.createElement("strong",null,"Storages: "),t.storageTypesArr.toString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Suppliers Count: "),t.suppliersArrCount,r.a.createElement("br",null),r.a.createElement("strong",null,"Suppliers: "),t.suppliersArr.toString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Service Types: "),t.serviceTypesArr.toString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Service Types Count: "),t.serviceTypesArr.length,r.a.createElement("br",null),r.a.createElement("strong",null,"Categories: "),t.categoriesArr.toString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Categories Count: "),t.categoriesArr.length,r.a.createElement("br",null),r.a.createElement("strong",null,"Note: "),t.note,r.a.createElement("br",null)))},options:{rowStyle:function(e){return{backgroundColor:v===e.tableData.id?"#EEE":"#FFF"}},headerStyle:{backgroundColor:a,color:"#FFF"},exportButton:!0}})}function on(e){return r.a.createElement(va.a,Object.assign({elevation:6,variant:"filled"},e))}var cn={cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},addSupplierButton:{maxWidth:"10%",float:"right",marginTop:"-47px"},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},headerColor:(an={background:"linear-gradient(45deg, #2ECC71 30%, #20E573 90%)",boxShadow:"0 3px 5px 2px rgba(32, 229, 115, .30)",margin:"0 15px",padding:"0",position:"relative"},Object(v.a)(an,"padding","0.75rem 1.25rem"),Object(v.a)(an,"marginBottom","0"),Object(v.a)(an,"borderBottom","none"),Object(v.a)(an,"borderRadius","3px"),Object(v.a)(an,"marginTop","-20px"),Object(v.a)(an,"padding","15px"),Object(v.a)(an,"height","5.75rem"),an)},sn=Object(x.a)(cn);function mn(e){var t=e.title,a=e.headerBackground,l=e.data,i=e.setData,o=e.fullData,c=e.setOpenDeviceQr,s=e.currentDevice,m=e.setCurrentDevice,u=e.usersData,d=e.handleOpenAlert,g=e.setOpenEditDevice,h=e.handleOpenVerifyOperation,f=e.verifyOperationBool,E=e.setVerifyOperationBool,x=e.setDeviceCount,v=Object(n.useState)(null),O=Object(p.a)(v,2),y=O[0],j=O[1];Object(n.useEffect)((function(){!0===f&&(S(),E(!1))}),[f]);var S=function(){var e=b.firestore().collection("devices").where("serial","==",s.serial),t=l.length-1;e.get().then((function(e){e.docs[0].ref.delete(),C(s),x(t),d("success","Successfully deleted the device.")})).catch((function(e){d("error","Failed to delete the device.")}))},C=function(){var e=l.filter((function(e){return e.serial!==s.serial}));i(e)};return r.a.createElement(wa.a,{isLoading:0===l.length,title:t,columns:[{title:"Actions",field:"notes",export:!1,render:function(e){return r.a.createElement(Ce.a,null,r.a.createElement(w.a,{color:"inherit","aria-label":"edit device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){return m(t=e),g(!0),void console.log("Editing device: ",t);var t}},r.a.createElement(Aa.a,null)),r.a.createElement(w.a,{color:"inherit","aria-label":"delete device",style:{maxWidth:"32px",maxHeight:"32px"},onClick:function(){return m(t=e),void h("Do you really want to delete the product "+t.deviceName+"?","Once performed, this action can not be undone!");var t}},r.a.createElement(Et.a,null)))}},{title:"Product",field:"deviceName",render:function(e){return e.deviceName.length>25?e.deviceName.substring(0,25)+"...":e.deviceName}},{title:"Serial",field:"serial"},{title:"Certificate",field:"certificate"},{title:"Owner",field:"uid",render:function(e){return function(e){var t=u.filter((function(t){return t.uid==e.user}));return t?t[0].fullName:"loading..."}(e)}},{title:"Warranty End Date",field:"warrantyEnd",render:function(e){return e.warrantyEnd.toLocaleDateString()},customSort:function(e,t){return e.warrantyEnd-t.warrantyEnd}}],data:l,onRowClick:function(e,t){j(t.tableData.id),e.target.ondblclick=function(){console.log("Double Click"),m(t),c(!0)}},detailPanel:function(e){var t=o.filter((function(t){return t.serial===e.serial}))[0];return console.log(e.serial),r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"Product: "),t.deviceName,r.a.createElement("br",null),r.a.createElement("strong",null,"Category: "),t.category,r.a.createElement("br",null),r.a.createElement("strong",null,"Certificate: "),t.certificate,r.a.createElement("br",null),r.a.createElement("strong",null,"Serial: "),t.serial,r.a.createElement("br",null),r.a.createElement("strong",null,"Price: "),t.price,r.a.createElement("br",null),r.a.createElement("strong",null,"Site: "),t.site,r.a.createElement("br",null),r.a.createElement("strong",null,"Storage: "),t.storageType,r.a.createElement("br",null),r.a.createElement("strong",null,"Supplier: "),t.supplier,r.a.createElement("br",null),r.a.createElement("strong",null,"Owner: "),function(e){var t=u.filter((function(t){return t.uid==e.user}));return t?t[0].fullName+" | "+t[0].email+" | Site: "+t[0].site:"loading..."}(t),r.a.createElement("br",null),r.a.createElement("strong",null,"Warranty Period: "),t.warrantyPeriod,r.a.createElement("br",null),r.a.createElement("strong",null,"Warranty Start Date: "),t.warrantyStart.toLocaleDateString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Warranty End Date: "),t.warrantyEnd.toLocaleDateString(),r.a.createElement("br",null),r.a.createElement("strong",null,"Notes: "),t.notes,r.a.createElement("br",null),r.a.createElement("strong",null,"Certificate Image: "),r.a.createElement("br",null)),console.log(t),r.a.createElement("a",{href:t.certificateImg,target:"_blank"},r.a.createElement("img",{src:t.certificateImg,alt:"certificate image",style:{maxHeight:"200px"}})))},options:{rowStyle:function(e){return{backgroundColor:y===e.tableData.id?"#EEE":"#FFF"}},headerStyle:{backgroundColor:a,color:"#FFF"},exportButton:!0}})}var pn=a(260),un=a.n(pn),dn=a(263),gn=a(65),bn=a(567),hn=a(168),fn=a.n(hn),En=a(169),xn=a.n(En),vn=a(210),On=a.n(vn),yn=a(261),jn=a.n(yn),Sn=a(170),wn=a.n(Sn),Cn=a(262),An=a.n(Cn),Tn=a(259),Nn=a.n(Tn),kn=(a(384),Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{minHeight:"80vh",maxHeight:"80vh"},formControl:{margin:e.spacing(1),width:"75%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},randomButton:{marginLeft:e.spacing(2)},selectGridItem:{marginRight:e.spacing(-5)},refreshButton:{width:"0.5rem",marginTop:e.spacing(1),marginLeft:e.spacing(1),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:"3",border:"0",color:"white",height:"2rem",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}})})));function In(e){var t=e.open,a=e.setOpen,l=e.storageDevices,i=e.setStorageDevices,o=e.handleOpenAlert,c=e.userRec,s=e.setCurrentDevice,m=e.usersArr,u=(e.setSitesArr,e.sitesArr),d=e.selectDataArr,g=(e.setSelectDataArr,e.calculateWarrantyEnd),h=e.setOpenDeviceQr,f=e.setDeviceCount,E=kn(),x=Object(n.useState)(""),v=Object(p.a)(x,2),O=v[0],y=v[1],j=Object(n.useState)(""),S=Object(p.a)(j,2),C=S[0],A=S[1],T=Object(n.useState)(""),k=Object(p.a)(T,2),I=k[0],D=k[1],F=Object(n.useState)(!1),P=Object(p.a)(F,2),B=P[0],R=P[1],G=Object(n.useState)(""),M=Object(p.a)(G,2),U=M[0],V=M[1],K=Object(n.useState)(""),q=Object(p.a)(K,2),Y=q[0],Q=q[1],Z=Object(n.useState)(""),X=Object(p.a)(Z,2),J=X[0],$=X[1],_=Object(n.useState)(""),ee=Object(p.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(p.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)(""),ce=Object(p.a)(oe,2),se=ce[0],me=ce[1],pe=Object(n.useState)(""),ue=Object(p.a)(pe,2),de=ue[0],ge=ue[1],be=Object(n.useState)(new Date),he=Object(p.a)(be,2),fe=he[0],Ee=he[1],xe=Object(n.useState)("0"),ve=Object(p.a)(xe,2),Oe=ve[0],je=ve[1],Se=Object(n.useState)(""),we=Object(p.a)(Se,2),Ae=we[0],Te=we[1],Ne=Object(n.useState)(""),ke=Object(p.a)(Ne,2),Ie=ke[0],De=ke[1],Fe=Object(n.useState)([]),Pe=Object(p.a)(Fe,2),Be=(Pe[0],Pe[1],Object(n.useState)("")),Re=Object(p.a)(Be,2),Le=(Re[0],Re[1],Object(n.useState)("")),We=Object(p.a)(Le,2),He=(We[0],We[1],Object(n.useState)(!1)),ze=Object(p.a)(He,2),Ge=ze[0],Me=ze[1],Ue=Object(n.useState)(!1),Ve=Object(p.a)(Ue,2),Ke=Ve[0],qe=Ve[1],Ye=Object(n.useState)(!1),Qe=Object(p.a)(Ye,2),Ze=Qe[0],Xe=Qe[1],Je=Object(n.useState)([]),$e=Object(p.a)(Je,2),_e=$e[0],et=$e[1],tt=Object(n.useState)([]),at=Object(p.a)(tt,2),nt=at[0],rt=at[1],lt=Object(n.useState)({}),it=Object(p.a)(lt,2),ot=it[0],ct=it[1],st=function(){a(!1)},mt=function(e){var t={};e.collection("suppliers").get().then((function(e){e.forEach((function(e){var a=e.data();t[a.site]?t[a.site].push(a.supplierName):t[a.site]=[a.supplierName]})),ct(t)}))};Object(n.useEffect)((function(){var e=b.firestore();mt(e)}),[]);var pt=function(){ut(),y(""),A(""),D(""),V(""),$(""),me(""),ge(""),Ee(new Date),je(""),De(""),Te(""),ae(""),ie(""),Q(""),R(!1)},ut=function(){var e=b.storage().ref().child("images/"+se);e.getDownloadURL().then((function(e){return dt(e)}),(function(t){var a=e.put(de);a.on("state_changed",(function(e){}),(function(e){o("error","An error occurred while attempting to upload the certificate's image.")}),(function(){a.snapshot.ref.getDownloadURL().then((function(e){return dt(e)}))}))}))},dt=function(e){var t=b.firestore(),a=(b.auth(),t.collection("devices").doc()),n=l.length+1,r={deviceName:O,category:C,serial:B?a.id:I,price:parseInt(U),certificate:se,certificateImg:e,supplier:ot[u[le-1]][Y-1],user:m[parseInt(te)-1].uid,site:u[parseInt(le)-1],storageType:J,warrantyStart:fe,warrantyPeriod:Oe.length>0?parseInt(Oe):0,notes:Ie};r.warrantyEnd=g(r.warrantyStart,r.warrantyPeriod),s(r),console.log("DEVREC ========> ",r),a.set(r).then((function(){return f(n),gt(t,a.id)})).catch((function(e){return console.error("Error writing document: ",e),o("error","An error occurred."),!1}));var c=l;c.push(r),i(c)},gt=function(e,t){var a=e.collection("devices").doc(t).collection("actions"),n=new Date;a.add({date:n,event:Ae,uid:c.uid}).then((function(){return console.log("Document successfully written!"),o("success","Successfully added the device!"),h(!0),!0})).catch((function(e){return console.error("Error writing document: ",e),o("error","An error occurred."),!1}))},bt=function(){console.log("hi");var e=!0,t="";return console.log("SKADKSAKDAKSKDKSAKD_____SKDAKSMD:::::> ",Ae),O.length<2||C.length<2||!B&&I.length<4||parseInt(U)<0||se.length<4||parseInt(Oe)<0||Ae.length<1?(e=!1,t="Did you fill all the text input fields properly?"):""===Y||""===J?(e=!1,t="Did you fill all the select fields properly?"):""!==de&&de?de.size>524288&&(e=!1,t="The size of the image you inputted is too big (Max Size - 0.05MB)."):(e=!1,t="Did you upload an image?"),!!e||(o("error",t),!1)};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onClose:st,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:E.dialogPaper}},r.a.createElement(jt.a,{id:"alert-dialog-title"},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("h6",{style:{marginTop:"0.5rem"}},"Would you like to add a new device?"),r.a.createElement(ye.a,{className:E.refreshButton,style:{marginLeft:"2rem"}},r.a.createElement(Nn.a,null)))),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"-10px"}},r.a.createElement(Ce.a,{item:!0},r.a.createElement(L.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:E.formControl},r.a.createElement(H.a,{id:"select-device-owner-label"},"Owner"),r.a.createElement(_t.a,{labelId:"select-device-owner-label",id:"select-device-owner",value:te,onChange:function(e){ae(Number(e.target.value)||"")},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),m.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:t+1},e.fullName+" | "+e.email+" | "+e.site)}))))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-20px"}},r.a.createElement(ca.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:E.selectGridItem},r.a.createElement(W.a,{className:E.formControlSecondSelect},r.a.createElement(H.a,{id:"select-site-outlined-label"},"Site"),r.a.createElement(_t.a,{labelId:"select-site-outlined-label",id:"select-site-outlined",style:{width:"84%"},value:le,onChange:function(e){var t=e.target.value;ie(t),t?(et(d[t-1].storageTypesArr),rt(d[t-1].categoriesArr)):(et([]),rt([]),ie(""),Q(""),$(""),A(""))},label:"Site"},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),u&&u.map((function(e,t){return r.a.createElement(N.a,{key:t,value:t+1},e)})))))),r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"-10px"}},r.a.createElement(Ce.a,{item:!0},r.a.createElement(ua.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:E.formControl},r.a.createElement(H.a,{id:"select-device-supplier-label"},"Supplier"),r.a.createElement(_t.a,{labelId:"select-device-supplier-label",id:"select-device-supplier",value:Y,onChange:function(e){Q(Number(e.target.value)||0)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),le&&ot[u[le-1]]?ot[u[le-1]].map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:t+1},e)})):[]))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-20px"}},r.a.createElement(ga.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:E.selectGridItem},r.a.createElement(W.a,{className:E.formControlSecondSelect},r.a.createElement(H.a,{id:"select-device-storage-type-label"},"Storage"),r.a.createElement(_t.a,{style:{width:"84%"},labelId:"select-device-storage-type-label",id:"select-device-supplier",value:J,onChange:function(e){$(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),_e&&_e.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})))))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==O&&O.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:E.margin,id:"newDeviceName",label:"Product Name",style:{width:"90%"},value:O,onChange:function(e){y(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(fn.a,null))}}):r.a.createElement(Vt.a,{className:E.margin,id:"newDeviceName",label:"Product Name",style:{width:"90%"},value:O,onChange:function(e){y(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(fn.a,null))}})),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"5px",marginTop:"2rem"}},r.a.createElement(ma.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:E.selectGridItem,style:{marginLeft:"-20px"}},r.a.createElement(W.a,{className:E.formControlSecondSelect},r.a.createElement(H.a,{id:"select-device-storage-type-label"},"Category"),r.a.createElement(_t.a,{style:{width:"89%"},labelId:"select-device-storage-type-label",id:"select-device-supplier",value:C,onChange:function(e){A(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),nt&&nt.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)})))))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{marginTop:"-1rem"}},r.a.createElement(Ce.a,{item:!0,xs:5},""!==I&&I.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"Serial should be at least 4 characters.",className:E.margin,style:{width:"110%"},id:"newDeviceSerial",label:"Serial",disabled:B,value:I,onChange:function(e){D(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}):r.a.createElement(Vt.a,{className:E.margin,id:"newDeviceSerial",label:"Serial",style:{width:"110%"},value:I,disabled:B,onChange:function(e){D(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}})),r.a.createElement(Ce.a,{item:!0,className:E.randomButton,style:{marginLeft:"-2rem",marginTop:"1rem"}},r.a.createElement(w.a,{"aria-label":"add-category",onClick:function(){R(!B),D(B?"":"RANDOM")}},r.a.createElement(un.a,null))),r.a.createElement(Ce.a,{item:!0,xs:6},""!==U&&parseInt(U)<0?r.a.createElement(Vt.a,{error:!0,helperText:"Price should be positive.",className:E.margin,id:"newDevicePrice",label:"Price",style:{width:"87%"},value:U,type:"number",onChange:function(e){V(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(xn.a,null))}}):r.a.createElement(Vt.a,{className:E.margin,id:"newDevicePrice",label:"Price",style:{width:"87%"},value:U,type:"number",onChange:function(e){V(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(xn.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(Vt.a,{className:E.margin,style:{width:"87%"},id:"newDeviceCertificate",label:"Certificate",value:se,onChange:function(e){me(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(On.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",disabled:!(se.length>=4),onChange:function(e){ge(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(ye.a,{style:{marginTop:"-40px",marginLeft:"10px"},variant:"contained",color:de?"default":se.length>=4?"primary":"secondary",startIcon:r.a.createElement(jn.a,null),component:"span"},"Upload Certificate")))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(gn.a,{utils:dn.a},r.a.createElement(bn.a,{id:"newDeviceWarrantyStartDate",style:{width:"90%"},label:"Warranty Start Date",className:E.formControl,value:fe,onChange:function(e){return Ee(e)},format:"dd/MM/yyyy"}))),r.a.createElement(Ce.a,{item:!0,xs:6},""!==Oe&&parseInt(Oe)<0?r.a.createElement(Vt.a,{error:!0,helperText:"Warranty Period should be positive.",className:E.margin,id:"newDeviceWarrantyPeriod",label:"Warranty Period (Months)",value:Oe,type:"number",onChange:function(e){je(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(wn.a,null))}}):r.a.createElement(Vt.a,{className:E.margin,id:"newDeviceWarrantyPeriod",label:"Warranty Period (Months)",value:Oe,type:"number",onChange:function(e){je(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(wn.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{marginTop:"-1rem"}},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"96%",marginTop:"20px"},id:"text-field-device-events",label:"Event (Device Addition, Device Repair, etc.)",multiline:!0,value:Ae,onChange:function(e){Te(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(An.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"96%",marginTop:"20px"},id:"text-field-device-notes",label:"Notes (Lab History, etc.)",multiline:!0,value:Ie,onChange:function(e){De(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Fa.a,null))}})))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:st,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){bt()&&(pt(),a(!1))},color:"primary",autoFocus:!0},"Ok")),r.a.createElement($a,{dialogTitle:"Add a new Storage",openSelectDialog:Ge,handleCloseDialog:function(){Me(!1)},handleOkDialog:function(){var e;nt?((e=_e).push(J),et(e)):et(e=[J]);Me(!1)},selectValue:J,setSelectValue:$,selectLabel:"Storage"}),r.a.createElement($a,{dialogTitle:"Add a new Category",openSelectDialog:Ke,handleCloseDialog:function(){qe(!1)},handleOkDialog:function(){var e;nt?((e=nt).push(C),rt(e)):rt(e=[C]);qe(!1)},selectValue:C,setSelectValue:A,selectLabel:"Category"}),r.a.createElement(tn,{open:Ze,setOpen:Xe}))}var Dn=a(411),Fn=a(412),Pn=a(413),Bn=a.n(Pn),Rn=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{minHeight:"28rem",maxHeight:"28rem",minWidth:"30rem",maxWidth:"30rem"},formControl:{margin:e.spacing(1),width:"75%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},secondPlusButton:{marginLeft:e.spacing(2)},selectGridItem:{marginRight:e.spacing(-5)}})}));function Ln(e){var t=e.serial,a=e.formTitle,l=e.open,i=e.setOpen,o=Object(n.useRef)(),c=Rn(),s=Object(Dn.useReactToPrint)({content:function(){return o.current}}),m={background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",width:"100%",margin:"10px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"};return r.a.createElement(xt.a,{open:l,onClose:function(){i(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:c.dialogPaper}},r.a.createElement(jt.a,{id:"form-dialog-title",style:{display:"flex",alignItems:"center",justifyContent:"center"}},a),r.a.createElement(Ot.a,null,r.a.createElement("div",{ref:o,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"25px"}},r.a.createElement(Bn.a,{value:t})),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(ye.a,{style:m,onClick:function(){return Object(Fn.exportComponentAsPNG)(o,{fileName:"Device_"+t})}},"EXPORT As PNG"),r.a.createElement(ye.a,{style:m,onClick:s},"Print QR Sticker"))))}var Wn,Hn=Object(x.a)((function(e){return Object(Gt.a)({root:{flexGrow:1,maxWidth:"75%"},textField:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary},margin:{margin:e.spacing(1)},dialogPaper:{minHeight:"80vh",maxHeight:"80vh"},formControl:{margin:e.spacing(1),width:"75%"},formControlSecondInSelectRow:{margin:e.spacing(1),width:"115%"},formControlSelect:{margin:e.spacing(1),width:"60%"},formControlSecondSelect:{margin:e.spacing(1),width:"100%"},plusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-9),marginRight:e.spacing(7)},supplierPlusButton:{marginTop:e.spacing(3),marginLeft:e.spacing(-7),marginRight:e.spacing(7)},secondPlusButton:{marginLeft:e.spacing(2)},selectGridItem:{marginRight:e.spacing(-5)},refreshButton:{width:"0.5rem",marginTop:e.spacing(1),marginLeft:e.spacing(1),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:"3",border:"0",color:"white",height:"2rem",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}})}));function zn(e){var t=e.open,a=e.setOpen,l=e.storageDevices,i=e.setStorageDevices,o=e.handleOpenAlert,c=e.userRec,s=e.currentDevice,m=e.setCurrentDevice,u=e.usersArr,d=(e.setSitesArr,e.sitesArr),g=e.selectDataArr,h=(e.setSelectDataArr,e.calculateWarrantyEnd),f=e.setOpenDeviceQr,E=e.deviceSuppliersDict,x=Hn(),v=Object(n.useState)(s.deviceName?s.deviceName:""),O=Object(p.a)(v,2),y=O[0],j=O[1],S=Object(n.useState)(s.category?s.category:""),C=Object(p.a)(S,2),A=C[0],T=C[1],k=Object(n.useState)(s.serial?s.serial:""),I=Object(p.a)(k,2),D=I[0],F=I[1],P=Object(n.useState)(!1),B=Object(p.a)(P,2),R=B[0],G=B[1],M=Object(n.useState)(s.price?s.price:""),U=Object(p.a)(M,2),V=U[0],K=U[1],q=Object(n.useState)(s.supplier?s.supplier:""),Y=Object(p.a)(q,2),Q=Y[0],Z=Y[1],X=Object(n.useState)(s.storageType?s.storageType:""),J=Object(p.a)(X,2),$=J[0],_=J[1],ee=Object(n.useState)(s.user?s.user:""),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(s.site?s.site:""),le=Object(p.a)(re,2),ie=le[0],oe=le[1],ce=Object(n.useState)(s.certificate?s.certificate:""),se=Object(p.a)(ce,2),me=se[0],pe=se[1],ue=Object(n.useState)(s.certificateImg?s.certificateImg:""),de=Object(p.a)(ue,2),ge=de[0],be=de[1],he=Object(n.useState)(s.warrantyStart?s.warrantyStart:new Date),fe=Object(p.a)(he,2),Ee=fe[0],xe=fe[1],ve=Object(n.useState)(s.warrantyPeriod?s.warrantyPeriod:""),Oe=Object(p.a)(ve,2),je=Oe[0],Se=Oe[1],we=Object(n.useState)(""),Ae=Object(p.a)(we,2),Te=Ae[0],Ne=Ae[1],ke=Object(n.useState)(s.notes?s.notes:""),Ie=Object(p.a)(ke,2),De=Ie[0],Fe=Ie[1],Pe=Object(n.useState)([]),Be=Object(p.a)(Pe,2),Re=(Be[0],Be[1],Object(n.useState)("")),Le=Object(p.a)(Re,2),We=(Le[0],Le[1],Object(n.useState)("")),He=Object(p.a)(We,2),ze=(He[0],He[1],Object(n.useState)(!1)),Ge=Object(p.a)(ze,2),Me=Ge[0],Ue=Ge[1],Ve=Object(n.useState)(!1),Ke=Object(p.a)(Ve,2),qe=Ke[0],Ye=Ke[1],Qe=Object(n.useState)(!1),Ze=Object(p.a)(Qe,2),Xe=Ze[0],Je=Ze[1],$e=Object(n.useState)([]),_e=Object(p.a)($e,2),et=_e[0],tt=_e[1],at=Object(n.useState)([]),nt=Object(p.a)(at,2),rt=nt[0],lt=nt[1],it=Object(n.useState)([]),ot=Object(p.a)(it,2),ct=ot[0],st=ot[1],mt=function(){a(!1)};Object(n.useEffect)((function(){pt()}),[]);var pt=function(){var e=d.indexOf(ie),t=g[e].storageTypesArr,a=g[e].categoriesArr,n=E[d[e]];ut(t,a,n)},ut=function(e,t,a){tt(e),lt(t),st(a)},dt=function(){me!==s.certificate||ge!==s.certificateImg?(console.log("Changed the certificate!"),gt()):bt(ge),j(""),T(""),F(""),K(""),_(""),pe(""),be(""),xe(new Date),Se(""),Fe(""),Ne("")},gt=function(){var e=b.storage().ref().child("images/"+me);e.getDownloadURL().then((function(e){return bt(e)}),(function(t){var a=e.put(ge);a.on("state_changed",(function(e){}),(function(e){o("error","An error occurred while attempting to upload the certificate's image.")}),(function(){a.snapshot.ref.getDownloadURL().then((function(e){return bt(e)}))}))}))},bt=function(e){var t=b.firestore();t.collection("devices").where("deviceName","==",s.deviceName).where("category","==",s.category).where("serial","==",s.serial).where("price","==",s.price).where("certificate","==",s.certificate).where("certificateImg","==",s.certificateImg).where("supplier","==",s.supplier).where("user","==",s.user).where("site","==",s.site).get().then((function(a){a.forEach((function(a){var n={deviceName:y,category:A,serial:R?a.id:D,price:parseInt(V),certificate:me,certificateImg:e,supplier:Q,user:ae,site:ie,storageType:$,warrantyStart:Ee,warrantyPeriod:parseInt(je),notes:De};n.warrantyEnd=h(n.warrantyStart,n.warrantyPeriod),m(n),a.ref.update(n).then((function(){console.log("Document successfully updated!"),o("success","Successfully edited the device!");var e=l.filter((function(e){return e!==s}));return e.push(n),i(e),ht(t,a.id)})).catch((function(e){return console.error("Error updating document: ",e),o("error","An error occurred."),!1}))}))}))},ht=function(e,t){var a=e.collection("devices").doc(t).collection("actions"),n=new Date;a.add({date:n,event:Te,uid:c.uid}).then((function(){return console.log("Document successfully written!"),o("success","Successfully added the action to the device actions sub-collection!"),f(!0),!0})).catch((function(e){return console.error("Error writing document: ",e),o("error","An error occurred."),!1}))},ft=function(){console.log("hi");var e=!0,t="";return y.length<2||A.length<2||!R&&D.length<4||parseInt(V)<0||me.length<4||parseInt(je)<0||Te.length<1?(e=!1,t="Did you fill all the text input fields properly?"):""===Q||""===$?(e=!1,t="Did you fill all the select fields properly?"):""!==ge&&ge?ge.size>524288&&(e=!1,t="The size of the image you inputted is too big (Max Size - 0.05MB)."):(e=!1,t="Did you upload an image?"),!!e||(o("error",t),!1)};return r.a.createElement(xt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:t,onClose:mt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",classes:{paper:x.dialogPaper}},r.a.createElement(jt.a,{id:"alert-dialog-title"},r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("h6",{style:{marginTop:"0.5rem"}},"Would you like to add a new device?"),r.a.createElement(ye.a,{className:x.refreshButton,style:{marginLeft:"2rem"}},r.a.createElement(Nn.a,null)))),r.a.createElement(Ot.a,null,r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"-10px"}},r.a.createElement(Ce.a,{item:!0},r.a.createElement(L.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:x.formControl},r.a.createElement(H.a,{id:"select-device-owner-label"},"Owner"),r.a.createElement(_t.a,{labelId:"select-device-owner-label",id:"select-device-owner",value:ae,onChange:function(e){ne(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),u.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e.uid},e.fullName+" | "+e.email+" | "+e.site)}))))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-20px"}},r.a.createElement(ca.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:x.selectGridItem},r.a.createElement(W.a,{className:x.formControlSecondSelect},r.a.createElement(H.a,{id:"select-site-outlined-label"},"Site"),r.a.createElement(_t.a,{labelId:"select-site-outlined-label",id:"select-site-outlined",style:{width:"84%"},value:ie,onChange:function(e){var t=d.indexOf(e.target.value);oe(e.target.value),-1!==t?(tt(g[t].storageTypesArr),lt(g[t].categoriesArr),st(E[d[t]]?E[d[t]]:[])):(tt([]),lt([]),st([]),oe("")),Z(""),_(""),T("")},label:"Site"},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),d.length&&d.map((function(e,t){return r.a.createElement(N.a,{key:t,value:e},e)})))))),r.a.createElement(Ce.a,{container:!0,spacing:1,alignItems:"flex-end",style:{marginTop:"-10px"}},r.a.createElement(Ce.a,{item:!0},r.a.createElement(ua.a,null)),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(W.a,{className:x.formControl},r.a.createElement(H.a,{id:"select-device-supplier-label"},"Supplier"),r.a.createElement(_t.a,{labelId:"select-device-supplier-label",id:"select-device-supplier",value:Q,onChange:function(e){Z(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),ct.length&&ct.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"-20px"}},r.a.createElement(ga.a,null)),r.a.createElement(Ce.a,{item:!0,xs:4,className:x.selectGridItem},r.a.createElement(W.a,{className:x.formControlSecondSelect},r.a.createElement(H.a,{id:"select-device-storage-type-label"},"Storage"),r.a.createElement(_t.a,{style:{width:"94%"},labelId:"select-device-storage-type-label",id:"select-device-storage-type",value:$,onChange:function(e){_(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),et.length&&et.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:x.secondPlusButton},r.a.createElement(w.a,{"aria-label":"add-storage-type",onClick:function(){Ue(!0),_("")}},r.a.createElement(_a.a,null)))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},""!==y&&y.length<2?r.a.createElement(Vt.a,{error:!0,helperText:"Name should be at least 2 characters.",className:x.margin,id:"newDeviceName",label:"Product Name",value:y,onChange:function(e){j(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(fn.a,null))}}):r.a.createElement(Vt.a,{className:x.margin,id:"newDeviceName",label:"Product Name",value:y,onChange:function(e){j(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(fn.a,null))}})),r.a.createElement(Ce.a,{item:!0,style:{marginLeft:"5px",marginTop:"2rem"}},r.a.createElement(ma.a,null)),r.a.createElement(Ce.a,{item:!0,xs:5,className:x.selectGridItem,style:{marginLeft:"-20px"}},r.a.createElement(W.a,{className:x.formControlSecondSelect},r.a.createElement(H.a,{id:"select-device-storage-type-label"},"Category"),r.a.createElement(_t.a,{style:{width:"80%"},labelId:"select-device-storage-type-label",id:"select-device-supplier",value:A,onChange:function(e){T(e.target.value)},input:r.a.createElement(z.a,null)},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"None")),rt.length&&rt.map((function(e,t){return r.a.createElement(N.a,{key:t+1,value:e},e)}))))),r.a.createElement(Ce.a,{item:!0,className:x.secondPlusButton,style:{marginLeft:"-2rem",marginTop:"1rem"}},r.a.createElement(w.a,{"aria-label":"add-category",onClick:function(){Ye(!0),T("")}},r.a.createElement(_a.a,null)))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{marginTop:"-1rem"}},r.a.createElement(Ce.a,{item:!0,xs:5},""!==D&&D.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"Serial should be at least 4 characters.",className:x.margin,id:"newDeviceSerial",label:"Serial",disabled:R,value:D,onChange:function(e){F(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}}):r.a.createElement(Vt.a,{className:x.margin,id:"newDeviceSerial",label:"Serial",value:D,disabled:R,onChange:function(e){F(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(za.a,null))}})),r.a.createElement(Ce.a,{item:!0,className:x.secondPlusButton,style:{marginLeft:"-2rem",marginTop:"1rem"}},r.a.createElement(w.a,{"aria-label":"add-category",onClick:function(){G(!R),F(R?"":"RANDOM")}},r.a.createElement(un.a,null))),r.a.createElement(Ce.a,{item:!0,xs:6},""!==V&&parseInt(V)<0?r.a.createElement(Vt.a,{error:!0,helperText:"Price should be positive.",className:x.margin,id:"newDevicePrice",label:"Price",value:V,type:"number",onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(xn.a,null))}}):r.a.createElement(Vt.a,{className:x.margin,id:"newDevicePrice",label:"Price",value:V,type:"number",onChange:function(e){K(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(xn.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:1,alignItems:"flex-end"},r.a.createElement(Ce.a,{item:!0,xs:6},""!==me&&me.length<4?r.a.createElement(Vt.a,{error:!0,helperText:"Certificate should be at least 4 characters.",className:x.margin,id:"newDeviceCertificate",label:"Certificate",value:me,onChange:function(e){pe(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(On.a,null))}}):r.a.createElement(Vt.a,{className:x.margin,id:"newDeviceCertificate",label:"Certificate",value:me,onChange:function(e){pe(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(On.a,null))}})),r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",type:"file",disabled:!me,onChange:function(e){be(e.target.files[0])}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(ye.a,{style:{marginTop:"-40px",marginLeft:"20px"},variant:"contained",color:ge?"default":me?"primary":"secondary",startIcon:r.a.createElement(jn.a,null),component:"span"},"Upload Certificate")))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:6},r.a.createElement(gn.a,{utils:dn.a},r.a.createElement(bn.a,{id:"newDeviceWarrantyStartDate",style:{width:"90%"},label:"Warranty Start Date",className:x.formControl,value:Ee,onChange:function(e){return xe(e)},format:"dd/MM/yyyy"}))),r.a.createElement(Ce.a,{item:!0,xs:6},""!==je&&parseInt(je)<0?r.a.createElement(Vt.a,{error:!0,helperText:"Warranty Period should be positive.",className:x.margin,id:"newDeviceWarrantyPeriod",label:"Warranty Period (Months)",value:je,type:"number",onChange:function(e){Se(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(wn.a,null))}}):r.a.createElement(Vt.a,{className:x.margin,id:"newDeviceWarrantyPeriod",label:"Warranty Period (Months)",value:je,type:"number",onChange:function(e){Se(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(wn.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3,style:{marginTop:"-1rem"}},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"96%",marginTop:"20px"},id:"text-field-device-events",label:"Event (Device Addition, Device Repair, etc.)",multiline:!0,value:Te,onChange:function(e){Ne(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(An.a,null))}}))),r.a.createElement(Ce.a,{container:!0,item:!0,spacing:3},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement(Vt.a,{style:{width:"96%",marginTop:"20px"},id:"text-field-device-notes",label:"Notes (Lab History, etc.)",multiline:!0,value:De,onChange:function(e){Fe(e.target.value)},InputProps:{startAdornment:r.a.createElement(Na.a,{position:"start"},r.a.createElement(Fa.a,null))}})))),r.a.createElement(vt.a,null,r.a.createElement(ye.a,{onClick:mt,color:"primary"},"Cancel"),r.a.createElement(ye.a,{onClick:function(){ft()&&(dt(),a(!1))},color:"primary",autoFocus:!0},"Ok")),r.a.createElement($a,{dialogTitle:"Add a new Storage",openSelectDialog:Me,handleCloseDialog:function(){Ue(!1)},handleOkDialog:function(){var e;rt?((e=et).push($),tt(e)):tt(e=[$]);Ue(!1)},selectValue:$,setSelectValue:_,selectLabel:"Storage"}),r.a.createElement($a,{dialogTitle:"Add a new Category",openSelectDialog:qe,handleCloseDialog:function(){Ye(!1)},handleOkDialog:function(){var e;rt?((e=rt).push(A),lt(e)):lt(e=[A]);Ye(!1)},selectValue:A,setSelectValue:T,selectLabel:"Category"}),r.a.createElement(tn,{open:Xe,setOpen:Je}))}function Gn(e){return r.a.createElement(va.a,Object.assign({elevation:6,variant:"filled"},e))}var Mn={cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}},addDeviceDiv:{color:"#ffa21a"},addDevice:{maxWidth:"10%",float:"right",marginTop:"-50px"},headerColor:(Wn={background:"linear-gradient(45deg, #F39C12 30%, #F5B041 90%)",boxShadow:"0 3px 5px 2px rgba(243, 156, 18, .30)",margin:"0 15px",padding:"0",position:"relative"},Object(v.a)(Wn,"padding","0.75rem 1.25rem"),Object(v.a)(Wn,"marginBottom","0"),Object(v.a)(Wn,"borderBottom","none"),Object(v.a)(Wn,"borderRadius","3px"),Object(v.a)(Wn,"marginTop","-20px"),Object(v.a)(Wn,"padding","15px"),Object(v.a)(Wn,"height","5.75rem"),Wn)},Un=Object(x.a)((function(e){return{leftUpperSelectFormControl:{margin:e.spacing(1),marginLeft:e.spacing(0),width:"17rem",marginBottom:e.spacing(3)},upperSelectFormControlAutoComplete:{margin:e.spacing(1),width:"17rem"},upperSelectFormControl:{margin:e.spacing(1),minWidth:"10rem"},filterButton:{maxWidth:"5%",marginTop:e.spacing(1),marginLeft:e.spacing(1),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:"3",border:"0",color:"white",height:"55px",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}}})),Vn=Object(x.a)(Mn);var Kn=function(e){var t;return{search:Object(v.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"white"}}),searchButton:Object(v.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),searchWrapper:(t={searchIcon:{width:"17px",zIndex:"4"}},Object(v.a)(t,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(v.a)(t,"display","inline-block"),Object(v.a)(t,"marginTop",e.spacing(-2)),Object(v.a)(t,"marginBottom",e.spacing(2)),Object(v.a)(t,"marginLeft",e.spacing(4)),t),cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}};function qn(e){var t=e.title,a=e.headerBackground,l=e.data,i=(e.usersData,e.getFormattedDate),o=Object(n.useState)(null),c=Object(p.a)(o,2),s=c[0],m=c[1];return r.a.createElement(wa.a,{title:t,columns:[{title:"Date",field:"date",render:function(e){return i(e.date)},customSort:function(e,t){return e.date-t.date}},{title:"Owner",field:"fullName"},{title:"Email",field:"email",hidden:!0},{title:"Event",field:"event",render:function(e){return e.event.length>50?e.event.substring(0,50)+"...":e.event}}],data:l,onRowClick:function(e,t){m(t.tableData.id),e.target.ondblclick=function(){console.log(t)}},detailPanel:function(e){return r.a.createElement("div",null,r.a.createElement("p",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"Editor Name: "),e.fullName,r.a.createElement("br",null),r.a.createElement("strong",null,"Editor Mail: "),e.email,r.a.createElement("br",null),r.a.createElement("strong",null,"Event: "),e.event,r.a.createElement("br",null),r.a.createElement("strong",null,"Date: "),i(e.date),r.a.createElement("br",null)))},options:{rowStyle:function(e){return{backgroundColor:s===e.tableData.id?"#EEE":"#FFF"}},headerStyle:{backgroundColor:a,color:"#FFF"},exportButton:!0}})}var Yn=Object(x.a)(Kn);var Qn,Zn=[{path:"/dashboard",name:"Dashboard",rtlName:"\u05dc\u05d5\u05d7 \u05d1\u05e7\u05e8\u05d4",icon:Ze.a,component:function(e){var t=ya(),a=b.firestore(),l=b.auth(),i=Object(n.useState)(!1),o=Object(p.a)(i,2),c=o[0],s=o[1],m=Object(n.useState)([]),u=Object(p.a)(m,2),d=u[0],g=u[1],h=Object(n.useState)(!1),f=Object(p.a)(h,2),E=f[0],x=f[1],v=Object(n.useState)("success"),O=Object(p.a)(v,2),y=O[0],j=O[1],S=Object(n.useState)(""),w=Object(p.a)(S,2),C=w[0],A=w[1],T=function(e,t){A(t),j(e),x(!0)},N=function(e){"clickaway"!==e&&x(!1)},k=function(){a.collection("users").doc(l.currentUser.uid).collection("cards").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={description:a.description,color:a.color,icon:a.icon,owner:a.owner,site:a.site,storage:a.storage,category:a.category,supplier:a.supplier,warrantyEndPeriod:a.warrantyEndPeriod};t.push(n)})),g(t)}))};return Object(n.useEffect)((function(){k()}),[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(we,{variant:"contained",color:"warning",className:t.addCardButton,endIcon:r.a.createElement(ut.a,null,"add"),onClick:function(){d.length<4?s(!0):T("error","The maximum amount of custom cards allowed is 4!")},style:ja},"Add Card"),Wt(),d.length>0&&r.a.createElement(Ht,{db:a,cardsArr:d,setCardsArr:g,handleOpenAlert:T})),r.a.createElement(fa,{open:c,setOpenNewCard:s,handleOpenAlert:T,cardsArr:d,setCardsArr:g}),r.a.createElement(xa.a,{open:E,autoHideDuration:6e3,onClose:N},r.a.createElement(Oa,{onClose:N,severity:y},C)))},layout:"/admin"},{path:"/storage",name:"Storage",rtlName:"\u05d0\u05d7\u05e1\u05d5\u05df",icon:"storage",component:function(){var e=Vn(),t=Un(),a=Object(n.useState)([]),l=Object(p.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)({}),s=Object(p.a)(c,2),m=s[0],u=s[1],d=Object(n.useState)(""),g=Object(p.a)(d,2),h=g[0],f=g[1],E=Object(n.useState)(""),x=Object(p.a)(E,2),v=x[0],O=x[1],y=Object(n.useState)([]),j=Object(p.a)(y,2),S=j[0],w=j[1],C=Object(n.useState)(""),A=Object(p.a)(C,2),T=A[0],k=A[1],I=Object(n.useState)([]),D=Object(p.a)(I,2),F=D[0],P=D[1],B=Object(n.useState)(""),R=Object(p.a)(B,2),L=R[0],z=R[1],G=Object(n.useState)([]),M=Object(p.a)(G,2),U=M[0],V=M[1],K=Object(n.useState)(""),q=Object(p.a)(K,2),Y=q[0],Q=q[1],Z=Object(n.useState)([]),X=Object(p.a)(Z,2),J=X[0],$=X[1],_=Object(n.useState)([]),ee=Object(p.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(p.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)(0),ce=Object(p.a)(oe,2),se=ce[0],me=ce[1],pe=Object(n.useState)([]),ue=Object(p.a)(pe,2),de=ue[0],ge=ue[1],be=Object(n.useState)(!1),he=Object(p.a)(be,2),fe=he[0],Ee=he[1],xe=Object(n.useState)(""),ve=Object(p.a)(xe,2),Oe=(ve[0],ve[1],Object(n.useState)("")),je=Object(p.a)(Oe,2),Se=(je[0],je[1],Object(n.useState)("")),we=Object(p.a)(Se,2),Ce=(we[0],we[1],Object(n.useState)("")),Ae=Object(p.a)(Ce,2),Ne=(Ae[0],Ae[1],Object(n.useState)("")),Ie=Object(p.a)(Ne,2),De=Ie[0],Fe=Ie[1],Be=Object(n.useState)(!0),Re=Object(p.a)(Be,2),We=(Re[0],Re[1],Object(n.useState)(!1)),He=Object(p.a)(We,2),Ge=He[0],Me=He[1],Ue=Object(n.useState)(!1),Ve=Object(p.a)(Ue,2),Ke=Ve[0],qe=Ve[1],Ye=Object(n.useState)(!1),Qe=Object(p.a)(Ye,2),Ze=Qe[0],Xe=Qe[1],Je=Object(n.useState)("success"),$e=Object(p.a)(Je,2),_e=$e[0],et=$e[1],tt=Object(n.useState)(""),at=Object(p.a)(tt,2),nt=at[0],rt=at[1],lt=Object(n.useState)(!1),it=Object(p.a)(lt,2),ot=it[0],ct=it[1],st=Object(n.useState)("Default Title"),mt=Object(p.a)(st,2),pt=mt[0],dt=mt[1],gt=Object(n.useState)("Default Text"),bt=Object(p.a)(gt,2),ht=bt[0],ft=bt[1],Et=Object(n.useState)("Default Text"),xt=Object(p.a)(Et,2),vt=xt[0],Ot=(xt[1],Object(n.useState)(!1)),yt=Object(p.a)(Ot,2),jt=yt[0],wt=yt[1],Ct=function(e,t){rt(t),et(e),Xe(!0)},At=function(e){"clickaway"!==e&&Xe(!1)},Tt=function(e){ge(e)},Nt=function(e,t){e.collection("users").get().then((function(e){var a=[],n={};e.forEach((function(e){var r=e.data(),l={uid:e.id,fullName:r.fullName,email:r.email,site:r.site};a.push(l),e.id==t.currentUser.uid&&(n=l)})),function(e,t){o(e),u(t)}(a,n)}))},kt=function(e){ie(e),w(e.map((function(e){return e.siteName})))},It=function(e,t){return function(e,t){var a=e.getDate();e.setMonth(e.getMonth()+ +t),e.getDate()!=a&&e.setDate(0);return e}(new Date(e.valueOf()),t)},Dt=function(e){$(e)};return Object(n.useEffect)((function(){0!==se&&b.firestore().collection("counters").doc("devices").update({count:se})}),[se]),Object(n.useEffect)((function(){var e=b.firestore(),t=b.auth();Nt(e,t),function(e,t){e.collection("devices").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={category:a.category,deviceName:a.deviceName,certificate:a.certificate,certificateImg:a.certificateImg,price:a.price,notes:a.notes,serial:a.serial,site:a.site,storageType:a.storageType,supplier:a.supplier,user:a.user,warrantyPeriod:a.warrantyPeriod,warrantyStart:a.warrantyStart.toDate()};n.warrantyEnd=It(n.warrantyStart,n.warrantyPeriod),t.push(n)})),Tt(t)}))}(e),function(e){var t=[];e.collection("sites").get().then((function(e){e.forEach((function(e){var a=e.data(),n={siteName:e.id,categoriesArr:a.categoriesArr,storageTypesArr:a.storageTypesArr};t.push(n)})),kt(t)}))}(e),function(e){var t={};e.collection("suppliers").get().then((function(e){e.forEach((function(e){var a=e.data();t[a.site]?t[a.site].push(a.supplierName):t[a.site]=[a.supplierName]})),Dt(t)}))}(e)}),[]),r.a.createElement(ke,null,r.a.createElement(Te,{xs:12,sm:12,md:12},r.a.createElement(Pe,null,r.a.createElement(Le,{className:e.headerColor},r.a.createElement("h4",{className:e.cardTitleWhite},"Your Storage"),r.a.createElement("p",{className:e.cardCategoryWhite},"All your managed storage in one space."),r.a.createElement("div",{className:e.addDeviceDiv},r.a.createElement(ye.a,{style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",fontSize:"14px",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},className:e.addDevice,endIcon:r.a.createElement(ut.a,null,"add"),onClick:function(){Ee(!0)}},"Add"))),r.a.createElement(ze,null,r.a.createElement(W.a,{variant:"outlined",className:t.leftUpperSelectFormControl},r.a.createElement(Kt.a,{multiple:!0,limitTags:1,id:"checkboxes-owners",options:i,onChange:function(e,t){f(t)},disableCloseOnSelect:!0,freeSolo:!0,getOptionLabel:function(e){return e.fullName},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{icon:r.a.createElement(Yt.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Zt.a,{fontSize:"small"}),style:{marginRight:8},checked:a}),e.fullName+" | "+e.email)},renderInput:function(e){return r.a.createElement(Vt.a,Object.assign({},e,{variant:"outlined",label:"Owner",placeholder:""}))}})),r.a.createElement(W.a,{variant:"outlined",className:t.upperSelectFormControlAutoComplete},r.a.createElement(Kt.a,{multiple:!0,limitTags:1,id:"checkboxes-owners",options:S,onChange:function(e,t){if(O(t),t&&1===t.length){var a=S.indexOf(t[0]);P(le[a].storageTypesArr),V(le[a].categoriesArr),ae(J[t[0]])}else P([]),V([]),ae([]),k(""),z(""),Q("")},disableCloseOnSelect:!0,freeSolo:!0,getOptionLabel:function(e){return e},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{icon:r.a.createElement(Yt.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Zt.a,{fontSize:"small"}),style:{marginRight:8},checked:a}),e)},renderInput:function(e){return r.a.createElement(Vt.a,Object.assign({},e,{variant:"outlined",label:"Site",placeholder:""}))}})),r.a.createElement(W.a,{variant:"outlined",className:t.upperSelectFormControl},r.a.createElement(H.a,{id:"select-storage-type-outlined-label"},"Storage"),r.a.createElement(_t.a,{labelId:"select-storage-type-outlined-label",id:"select-storage-type-outlined",value:T,onChange:function(e){return k(e.target.value)},label:"Storage"},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),F&&F.map((function(e,t){return r.a.createElement(N.a,{key:t,value:t+1},e)})))),r.a.createElement(W.a,{variant:"outlined",className:t.upperSelectFormControl},r.a.createElement(H.a,{id:"select-category-outlined-label"},"Category"),r.a.createElement(_t.a,{labelId:"select-category-outlined-label",id:"select-category-outlined",value:L,onChange:function(e){return z(e.target.value)},label:"Category"},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),U&&U.map((function(e,t){return r.a.createElement(N.a,{key:t,value:t+1},e)})))),r.a.createElement(W.a,{variant:"outlined",className:t.upperSelectFormControl},r.a.createElement(H.a,{id:"select-supplier-outlined-label"},"Supplier"),r.a.createElement(_t.a,{labelId:"select-supplier-outlined-label",id:"select-supplier-outlined",value:Y,onChange:function(e){return Q(e.target.value)},label:"Supplier"},r.a.createElement(N.a,{value:""},r.a.createElement("em",null,"Any")),te&&te.map((function(e,t){return r.a.createElement(N.a,{key:t,value:t+1},e)})))),r.a.createElement(ye.a,{className:t.filterButton,onClick:function(){var e=b.firestore().collection("devices"),t=!1;if(h.length&&(e=e.where("user","in",h.map((function(e){return e.uid})))),1===v.length){var a=S.indexOf(v[0])+1,n=le?le[a-1].siteName:"",r=le?le[a-1].storageTypesArr[T-1]:"",l=le?le[a-1].categoriesArr[L-1]:"",i=te?te[Y-1]:"";n&&""!==n&&(e=e.where("site","==",n)),r&&""!==r&&(e=e.where("storageType","==",r)),l&&""!==l&&(e=e.where("category","==",l)),i&&""!==i&&(e=e.where("supplier","==",i))}else v.length>1&&(h.length?t=!0:e=e.where("site","in",v));e.get().then((function(e){var a=[];e.forEach((function(e){var n=e.data();if(!t||v.includes(n.site)){var r={category:n.category,deviceName:n.deviceName,certificate:n.certificate,certificateImg:n.certificateImg,price:n.price,notes:n.notes,serial:n.serial,site:n.site,storageType:n.storageType,supplier:n.supplier,user:n.user,warrantyPeriod:n.warrantyPeriod,warrantyStart:n.warrantyStart.toDate()};r.warrantyEnd=It(r.warrantyStart,r.warrantyPeriod),a.push(r)}})),Tt(a)}))}},"Filter"),r.a.createElement(mn,{title:"Managed Devices",setOpenDeviceQr:Me,headerBackground:"#ffa21a",data:de,setData:ge,fullData:de,usersData:i,handleOpenAlert:Ct,currentDevice:De,setCurrentDevice:Fe,setOpenEditDevice:qe,handleOpenVerifyOperation:function(e,t){ct(!0),dt(e),ft(t)},verifyOperationBool:jt,setVerifyOperationBool:wt,setDeviceCount:me})))),r.a.createElement(In,{open:fe,setOpen:Ee,storageDevices:de,setStorageDevices:ge,handleOpenAlert:Ct,userRec:m,setCurrentDevice:Fe,usersArr:i,setSitesArr:w,sitesArr:S,selectDataArr:le,setSelectDataArr:ie,calculateWarrantyEnd:It,setOpenDeviceQr:Me,setDeviceCount:me}),Ke&&r.a.createElement(zn,{open:Ke,setOpen:qe,storageDevices:de,setStorageDevices:ge,handleOpenAlert:Ct,userRec:m,currentDevice:De,setCurrentDevice:Fe,usersArr:i,setSitesArr:w,sitesArr:S,selectDataArr:le,setSelectDataArr:ie,calculateWarrantyEnd:It,setOpenDeviceQr:Me,deviceSuppliersDict:J}),r.a.createElement(St,{open:ot,setOpen:ct,setBoolVal:wt,dialogText:ht,dialogTitle:pt,funcToPerform:vt}),r.a.createElement(Ln,{formTitle:"Device QR Code - "+De.serial,serial:De.serial,open:Ge,setOpen:Me}),r.a.createElement(xa.a,{open:Ze,autoHideDuration:6e3,onClose:At},r.a.createElement(Gn,{onClose:At,severity:_e},nt)))},layout:"/admin"},{path:"/site",name:"Sites",rtlName:"\u05d0\u05ea\u05e8\u05d9\u05dd",icon:"place",component:function(){var e=sn(),t=Object(n.useState)(""),a=Object(p.a)(t,2),l=(a[0],a[1],Object(n.useState)([])),i=Object(p.a)(l,2),o=i[0],c=i[1],s=Object(n.useState)([]),m=Object(p.a)(s,2),u=m[0],d=m[1],g=Object(n.useState)(!1),h=Object(p.a)(g,2),f=h[0],E=h[1],x=Object(n.useState)(!1),v=Object(p.a)(x,2),O=v[0],y=v[1],j=Object(n.useState)({}),S=Object(p.a)(j,2),w=S[0],C=S[1],A=Object(n.useState)(!1),T=Object(p.a)(A,2),N=(T[0],T[1],Object(n.useState)(0)),k=Object(p.a)(N,2),I=k[0],D=k[1],F=Object(n.useState)(0),P=Object(p.a)(F,2),B=P[0],R=P[1],L=Object(n.useState)(!1),W=Object(p.a)(L,2),H=W[0],z=W[1],G=Object(n.useState)("success"),M=Object(p.a)(G,2),U=M[0],V=M[1],K=Object(n.useState)(""),q=Object(p.a)(K,2),Y=q[0],Q=q[1],Z=Object(n.useState)(!1),X=Object(p.a)(Z,2),J=X[0],$=X[1],_=Object(n.useState)("Default Title"),ee=Object(p.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)("Default Text"),re=Object(p.a)(ne,2),le=re[0],ie=re[1],oe=Object(n.useState)("Default Text"),ce=Object(p.a)(oe,2),se=ce[0],me=(ce[1],Object(n.useState)(!1)),pe=Object(p.a)(me,2),ue=pe[0],de=pe[1],ge=function(e,t){Q(t),V(e),z(!0)},be=function(e){"clickaway"!==e&&z(!1)},he=function(e){c(e.map((function(e){return e.name}))),console.log("DEFAULT TABLE ARR",e),d(e)},fe=function(){return u.reduce((function(e,t){return e+t.storageTypesArrCount}),0)};return Object(n.useEffect)((function(){!function(){var e=b.firestore(),t=[],a={},n=[];e.collection("suppliers").get().then((function(r){r.forEach((function(e){var t=e.data(),n=t.site;a[n]?a[n].push(t.supplierName):a[n]=[t.supplierName]})),e.collection("sites").get().then((function(e){e.forEach((function(e){var a=e.data(),n={name:e.id,storageTypesArr:a.storageTypesArr?a.storageTypesArr:"None",storageTypesArrCount:a.storageTypesArr.length,serviceTypesArr:a.serviceTypesArr,categoriesArr:a.categoriesArr,note:a.note};t.push(n)})),t.forEach((function(e){var t=a[e.name],r={name:e.name,storageTypesArr:e.storageTypesArr,storageTypesArrCount:e.storageTypesArrCount,suppliersArr:t||"None",suppliersArrCount:t?t.length:0,serviceTypesArr:e.serviceTypesArr,categoriesArr:e.categoriesArr,note:e.note};n.push(r)})),he(n)}))}))}()}),[]),Object(n.useEffect)((function(){0!==I&&b.firestore().collection("counters").doc("sites").update({count:I})}),[I]),Object(n.useEffect)((function(){0!==B&&b.firestore().collection("counters").doc("storages").update({count:B})}),[B]),r.a.createElement(ke,null,r.a.createElement(Te,{xs:12,sm:12,md:12},r.a.createElement(Pe,null,r.a.createElement(Le,{className:e.headerColor},r.a.createElement("h4",{className:e.cardTitleWhite},"Your Sites"),r.a.createElement("p",{className:e.cardCategoryWhite},"All your managed sites in one space."),r.a.createElement(we,{variant:"contained",color:"warning",style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,fontSize:"14px",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},className:e.addSupplierButton,endIcon:r.a.createElement(ut.a,null,"add"),onClick:function(){E(!0)}},"Add")),r.a.createElement(ze,null,r.a.createElement(ln,{title:"Managed Sites",headerBackground:"#26C281",data:u,setData:he,handleOpenAlert:ge,handleSetEditSite:function(e){var t={name:e.name,note:e.note,storageTypesArr:"None"===e.storageTypesArr?[]:e.storageTypesArr,suppliersArr:"None"===e.suppliersArr?[]:e.suppliersArr,serviceTypesArr:"None"===e.serviceTypesArr?[]:e.serviceTypesArr,categoriesArr:"None"===e.categoriesArr?[]:e.categoriesArr};console.log(t),C(t)},setOpenEditSite:y,handleOpenVerifyOperation:function(e,t){$(!0),ae(e),ie(t)},verifyOperationBool:ue,setVerifyOperationBool:de,setSiteCount:D,setStorageCount:R,getStoragesCount:fe})))),r.a.createElement(tn,{open:f,setOpen:E,handleOpenAlert:ge,sitesNamesArr:o,setSitesTableData:he,sitesTableData:u,setSiteCount:D,setStorageCount:R,getStoragesCount:fe}),O&&r.a.createElement(rn,{open:O,setOpen:y,handleOpenAlert:ge,sitesNamesArr:o,setSitesTableData:he,sitesTableData:u,existingSite:w}),r.a.createElement(St,{open:J,setOpen:$,setBoolVal:de,dialogText:le,dialogTitle:te,funcToPerform:se}),r.a.createElement(xa.a,{open:H,autoHideDuration:6e3,onClose:be},r.a.createElement(on,{onClose:be,severity:U},Y)))},layout:"/admin"},{path:"/supplier",name:"Suppliers",rtlName:"\u05e1\u05e4\u05e7\u05d9\u05dd",icon:"local_shipping",component:function(){var e=Ja(),t=Xa(),a=Object(n.useState)(""),l=Object(p.a)(a,2),i=(l[0],l[1],Object(n.useState)([])),o=Object(p.a)(i,2),c=o[0],s=o[1],m=Object(n.useState)([]),u=Object(p.a)(m,2),d=(u[0],u[1]),g=Object(n.useState)([]),h=Object(p.a)(g,2),f=h[0],E=h[1],x=Object(n.useState)(!1),v=Object(p.a)(x,2),O=v[0],y=v[1],j=Object(n.useState)([""]),S=Object(p.a)(j,2),w=S[0],C=S[1],A=Object(n.useState)(!1),T=Object(p.a)(A,2),N=T[0],k=T[1],I=Object(n.useState)({}),D=Object(p.a)(I,2),F=D[0],P=D[1],B=Object(n.useState)(0),R=Object(p.a)(B,2),L=R[0],H=R[1],z=Object(n.useState)(!1),G=Object(p.a)(z,2),M=G[0],U=G[1],V=Object(n.useState)("success"),K=Object(p.a)(V,2),q=K[0],Y=K[1],Q=Object(n.useState)(""),Z=Object(p.a)(Q,2),X=Z[0],J=Z[1],$=Object(n.useState)(!1),_=Object(p.a)($,2),ee=_[0],te=_[1],ae=Object(n.useState)("Default Title"),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],ie=Object(n.useState)("Default Text"),oe=Object(p.a)(ie,2),ce=oe[0],se=oe[1],me=Object(n.useState)("Default Text"),pe=Object(p.a)(me,2),ue=pe[0],de=(pe[1],Object(n.useState)(!1)),ge=Object(p.a)(de,2),be=ge[0],he=ge[1],fe=function(e,t){J(t),Y(e),U(!0)},Ee=function(e){"clickaway"!==e&&U(!1)},xe=function(){b.firestore().collection("sites").get().then((function(e){var t=[];e.forEach((function(e){var a=e.data(),n={site:e.id,serviceTypesArr:a.serviceTypesArr};t.push(n)})),C(t)}))},ve=function(e){d(e),E(e)};return Object(n.useEffect)((function(){!function(){var e=b.firestore(),t=(b.auth(),e.collection("suppliers")),a=[];t.get().then((function(e){e.forEach((function(e){var t=e.data(),n={supplierName:t.supplierName,address:t.address,serviceType:t.serviceType,contact:t.contact,site:t.site,sla:t.sla,tin:t.tin,notes:t.notes};a.push(n)})),ve(a)}))}(),xe()}),[]),Object(n.useEffect)((function(){0!==L&&b.firestore().collection("counters").doc("suppliers").update({count:L})}),[L]),r.a.createElement(ke,null,r.a.createElement(Te,{xs:12,sm:12,md:12},r.a.createElement(Pe,null,r.a.createElement(Le,{className:e.headerColor},r.a.createElement("h4",{className:e.cardTitleWhite},"Your Suppliers"),r.a.createElement("p",{className:e.cardCategoryWhite},"All your managed suppliers in once space."),r.a.createElement(we,{variant:"contained",color:"warning",style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,fontSize:"14px",padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},className:e.addSupplierButton,endIcon:r.a.createElement(ut.a,null,"add"),onClick:function(){y(!0)}},"Add")),r.a.createElement(ze,null,r.a.createElement(W.a,{variant:"outlined",className:t.leftUpperSelectFormControl},r.a.createElement(Kt.a,{multiple:!0,limitTags:1,id:"checkboxes-sites",options:w,onChange:function(e,t){s(t)},disableCloseOnSelect:!0,freeSolo:!0,getOptionLabel:function(e){return e.site},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{icon:r.a.createElement(Yt.a,{fontSize:"small"}),checkedIcon:r.a.createElement(Zt.a,{fontSize:"small"}),style:{marginRight:8},checked:a}),e.site)},renderInput:function(e){return r.a.createElement(Vt.a,Object.assign({},e,{variant:"outlined",label:"Site",placeholder:""}))}})),r.a.createElement(we,{className:t.filterButton,onClick:function(){var e=b.firestore().collection("suppliers"),t=[],a=c.map((function(e){return e.site}));a.length&&(e=e.where("site","in",a)),e.get().then((function(e){e.forEach((function(e){var a=e.data();d(f);var n={supplierName:a.supplierName,address:a.address,serviceType:a.serviceType,contact:a.contact,site:a.site,sla:a.sla,tin:a.tin,notes:a.notes};t.push(n)})),ve(t)}))}},"Filter"),r.a.createElement(Ta,{title:"Managed Suppliers",headerBackground:"#3374FF",data:f,setData:ve,handleOpenAlert:fe,handleOpenVerifyOperation:function(e,t){te(!0),le(e),se(t)},verifyOperationBool:be,setVerifyOperationBool:he,setOpenEditSupplier:k,handleSetEditSupplier:function(e){P(e)},setSupplierCount:H})))),r.a.createElement(Va,{open:O,setOpen:y,handleOpenAlert:fe,sitesData:w,handleSetSuppliersTable:ve,suppliersTableData:f,setSupplierCount:H}),N&&r.a.createElement(Ya,{open:N,setOpen:k,handleOpenAlert:fe,sitesData:w,handleSetSuppliersTable:ve,suppliersTableData:f,existingSupplier:F}),r.a.createElement(St,{open:ee,setOpen:te,setBoolVal:he,dialogText:ce,dialogTitle:re,funcToPerform:ue}),r.a.createElement(xa.a,{open:M,autoHideDuration:6e3,onClose:Ee},r.a.createElement(Qa,{onClose:Ee,severity:q},X)))},layout:"/admin"},{path:"/track",name:"Track Changes",rtlName:"\u05de\u05e2\u05e7\u05d1 \u05e9\u05d9\u05e0\u05d5\u05d9\u05d9\u05dd",icon:"assignment",component:function(){var e=Yn(),t=Object(n.useState)(""),a=Object(p.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)([]),c=Object(p.a)(o,2),s=c[0],m=c[1],u=Object(n.useState)([]),d=Object(p.a)(u,2),g=d[0],h=d[1],f=function(e,t){e.collection("users").get().then((function(e){var t,a=[];e.forEach((function(e){var t=e.data(),n={uid:e.id,fullName:t.fullName,email:t.email,site:t.site};a.push(n)})),t=a,console.log(t),h(t)}))};return Object(n.useEffect)((function(){var e=b.firestore();b.auth();f(e)}),[]),r.a.createElement(ke,null,r.a.createElement("div",{className:e.searchWrapper},r.a.createElement(ve,{formControlProps:{className:e.margin+" "+e.search},inputProps:{onChange:function(e){return i(e.target.value)},placeholder:"Enter a serial to begin",inputProps:{"aria-label":"Enter a serial to begin"}}}),r.a.createElement(we,{color:"white","aria-label":"edit",justIcon:!0,round:!0,onClick:function(){var e=b.firestore(),t=(b.auth(),e.collection("devices")),a=[];t.where("serial","==",l).get().then((function(e){e.forEach((function(e){var n=e.id;t.doc(n).collection("actions").get().then((function(e){e.forEach((function(e){var t=e.data(),n=g.filter((function(e){return e.uid===t.uid}))[0],r={date:t.date.toDate(),event:t.event,fullName:n.fullName,email:n.email};console.log(r,"TRACKREC"),a.push(r),console.log(e.id," => ",e.data())})),console.log(a),m(a)})).catch((function(e){console.log("Error getting documents: ",e)}))}))})).catch((function(e){console.log("Error getting documents: ",e)}))}},r.a.createElement(Je.a,null))),r.a.createElement(Te,{xs:12,sm:12,md:12},r.a.createElement(Pe,null,r.a.createElement(Le,{color:"primary"},r.a.createElement("h4",{className:e.cardTitleWhite},"Track Changes"),r.a.createElement("p",{className:e.cardCategoryWhite},"All your managed devices changes in one space.")),r.a.createElement(ze,null,r.a.createElement(qn,{title:"Managed Devices Changes",headerBackground:"#9d36b3",data:s,usersData:g,getFormattedDate:function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return n<10&&(n="0"+n),a<10&&(a="0"+a),n+"/"+a+"/"+t}})))))},layout:"/admin"},{path:"/settings",name:"Settings",rtlName:"\u05d4\u05d2\u05d3\u05e8\u05d5\u05ea",icon:"settings",component:function(){var e=Ge();return r.a.createElement(ke,null,r.a.createElement(Te,{xs:12,sm:12,md:12},r.a.createElement(Pe,null,r.a.createElement(Le,{color:"primary"},r.a.createElement("h4",{className:e.cardTitleWhite},"Settings"),r.a.createElement("p",{className:e.cardCategoryWhite},"Still in the works...")),r.a.createElement(ze,null))))},layout:"/admin"}],Xn=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(K.a)(Object(K.a)((t={},Object(v.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(v.a)(t,"overflow","auto"),Object(v.a)(t,"position","relative"),Object(v.a)(t,"float","right"),t),Y),{},{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:Q,map:{marginTop:"70px"}}},Jn=a(118),$n=a.n(Jn),_n=a(414),er=a.n(_n),tr=r.a.createElement(f.d,null,Zn.map((function(e,t){return"/admin"===e.layout?r.a.createElement(f.b,{path:e.layout+e.path,component:e.component,key:t}):null})),r.a.createElement(f.a,{from:"/admin",to:"/admin/dashboard"})),ar=Object(x.a)(Xn);function nr(){var e=ar(),t=r.a.createRef(),a=r.a.useState($n.a),n=Object(p.a)(a,2),l=n[0],i=(n[1],r.a.useState("blue")),o=Object(p.a)(i,2),c=o[0],s=(o[1],r.a.useState(!1)),m=Object(p.a)(s,2),u=m[0],d=m[1],g=function(){d(!u)},b=function(){return"/admin/maps"!==window.location.pathname},h=function(){window.innerWidth>=960&&d(!1)};return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Qn=new E.a(t.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",h),function(){navigator.platform.indexOf("Win")>-1&&Qn.destroy(),window.removeEventListener("resize",h)}}),[t]),r.a.createElement("div",{className:e.wrapper},r.a.createElement(bt,{routes:Zn.filter((function(e){return"Settings"!==e.name})),logoText:"Wedigg Storage",logo:er.a,image:l,handleDrawerToggle:g,open:u,color:c}),r.a.createElement("div",{className:e.mainPanel,ref:t},r.a.createElement(nt,{routes:Zn,handleDrawerToggle:g}),b()?r.a.createElement("div",{className:e.content},r.a.createElement("div",{className:e.container},tr)):r.a.createElement("div",{className:e.map},tr),b()?r.a.createElement(it,null):null))}var rr=a(213),lr=a.n(rr),ir=a(214),or=a.n(ir),cr=a(215),sr=a.n(cr);function mr(e){var t=r.a.useState("dropdown show"),a=Object(p.a)(t,2),n=(a[0],a[1],r.a.useState(!0)),l=Object(p.a)(n,2),i=(l[0],l[1],r.a.useState(e.bgImage)),o=Object(p.a)(i,2),c=o[0],s=o[1];return r.a.createElement("div",{className:y()("fixed-plugin",{"rtl-fixed-plugin":e.rtlActive})},r.a.createElement("div",{id:"fixedPluginClasses",className:e.fixedClasses},r.a.createElement("div",{onClick:function(){e.handleFixedClick()}},r.a.createElement("i",{className:"fa fa-cog fa-2x"})),r.a.createElement("ul",{className:"dropdown-menu"},r.a.createElement("li",{className:"header-title"},"SIDEBAR FILTERS"),r.a.createElement("li",{className:"adjustments-line"},r.a.createElement("a",{className:"switch-trigger"},r.a.createElement("div",null,r.a.createElement("span",{className:"purple"===e.bgColor?"badge filter badge-purple active":"badge filter badge-purple","data-color":"purple",onClick:function(){e.handleColorClick("purple")}}),r.a.createElement("span",{className:"blue"===e.bgColor?"badge filter badge-blue active":"badge filter badge-blue","data-color":"blue",onClick:function(){e.handleColorClick("blue")}}),r.a.createElement("span",{className:"green"===e.bgColor?"badge filter badge-green active":"badge filter badge-green","data-color":"green",onClick:function(){e.handleColorClick("green")}}),r.a.createElement("span",{className:"red"===e.bgColor?"badge filter badge-red active":"badge filter badge-red","data-color":"red",onClick:function(){e.handleColorClick("red")}}),r.a.createElement("span",{className:"orange"===e.bgColor?"badge filter badge-orange active":"badge filter badge-orange","data-color":"orange",onClick:function(){e.handleColorClick("orange")}})))),r.a.createElement("li",{className:"header-title"},"Images"),r.a.createElement("li",{className:c===lr.a?"active":""},r.a.createElement("a",{className:"img-holder switch-trigger",onClick:function(){s(lr.a),e.handleImageClick(lr.a)}},r.a.createElement("img",{src:lr.a,alt:"..."}))),r.a.createElement("li",{className:c===$n.a?"active":""},r.a.createElement("a",{className:"img-holder switch-trigger",onClick:function(){s($n.a),e.handleImageClick($n.a)}},r.a.createElement("img",{src:$n.a,alt:"..."}))),r.a.createElement("li",{className:c===or.a?"active":""},r.a.createElement("a",{className:"img-holder switch-trigger",onClick:function(){s(or.a),e.handleImageClick(or.a)}},r.a.createElement("img",{src:or.a,alt:"..."}))),r.a.createElement("li",{className:c===sr.a?"active":""},r.a.createElement("a",{className:"img-holder switch-trigger",onClick:function(){s(sr.a),e.handleImageClick(sr.a)}},r.a.createElement("img",{src:sr.a,alt:"..."}))),r.a.createElement("li",{className:"button-container"},r.a.createElement("div",{className:"button-container"},r.a.createElement(we,{color:"success",href:"https://www.creative-tim.com/product/material-dashboard-react?ref=mdr-fixed-plugin",target:"_blank",fullWidth:!0},"Download free!"))),r.a.createElement("li",{className:"button-container"},r.a.createElement("div",{className:"button-container"},r.a.createElement(we,{color:"warning",href:"https://www.creative-tim.com/product/material-dashboard-pro-react?ref=mdr-fixed-plugin",target:"_blank",fullWidth:!0},"Get PRO version"))),r.a.createElement("li",{className:"button-container"},r.a.createElement(we,{color:"info",fullWidth:!0,href:"https://demos.creative-tim.com/material-dashboard-react/#/documentation/tutorial?ref=mdr-fixed-plugin",target:"_blank"},"Documentation")),r.a.createElement("li",{className:"adjustments-line"}))))}var pr,ur=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh",direction:"rtl"},mainPanel:Object(K.a)(Object(K.a)((t={},Object(v.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(v.a)(t,"overflow","auto"),Object(v.a)(t,"position","relative"),Object(v.a)(t,"float","left"),t),Y),{},{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:Q,map:{marginTop:"70px"}}},dr=a(415),gr=a.n(dr),br=r.a.createElement(f.d,null,Zn.map((function(e,t){return"/rtl"===e.layout?r.a.createElement(f.b,{path:e.layout+e.path,component:e.component,key:t}):null})),r.a.createElement(f.a,{from:"/rtl",to:"/rtl/rtl-page"})),hr=Object(x.a)(ur);function fr(e){var t=Object.assign({},e),a=hr(),n=r.a.createRef(),l=r.a.useState($n.a),i=Object(p.a)(l,2),o=i[0],c=i[1],s=r.a.useState("blue"),m=Object(p.a)(s,2),u=m[0],d=m[1],g=r.a.useState("dropdown show"),b=Object(p.a)(g,2),h=b[0],f=b[1],x=r.a.useState(!1),v=Object(p.a)(x,2),O=v[0],y=v[1],j=function(){y(!O)},S=function(){return"/admin/maps"!==window.location.pathname},w=function(){window.innerWidth>=960&&y(!1)};return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(pr=new E.a(n.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",w),function(){navigator.platform.indexOf("Win")>-1&&pr.destroy(),window.removeEventListener("resize",w)}}),[n]),r.a.createElement("div",{className:a.wrapper},r.a.createElement(bt,Object.assign({routes:Zn,logoText:"\u0627\u0644\u0625\u0628\u062f\u0627\u0639\u064a\u0629 \u062a\u064a\u0645",logo:gr.a,image:o,handleDrawerToggle:j,open:O,color:u,rtlActive:!0},t)),r.a.createElement("div",{className:a.mainPanel,ref:n},r.a.createElement(nt,Object.assign({routes:Zn,handleDrawerToggle:j,rtlActive:!0},t)),S()?r.a.createElement("div",{className:a.content},r.a.createElement("div",{className:a.container},br)):r.a.createElement("div",{className:a.map},br),S()?r.a.createElement(it,null):null,r.a.createElement(mr,{handleImageClick:function(e){c(e)},handleColorClick:function(e){d(e)},bgColor:u,bgImage:o,handleFixedClick:function(){f("dropdown"===h?"dropdown show":"dropdown")},fixedClasses:h,rtlActive:!0})))}a(389),a(519);var Er=a(563),xr=a(564),vr=a(292),Or=a(416),yr=a.n(Or);function jr(e){return r.a.createElement(va.a,Object.assign({elevation:6,variant:"filled"},e))}var Sr=b.auth();function wr(){return r.a.createElement($t.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(xr.a,{color:"inherit",href:"/index.html"},"Wedigg Storage")," ",(new Date).getFullYear(),".")}var Cr=Object(x.a)((function(e){return{wrappingDiv:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",margin:0},wrappingCard:{display:"flex",flexDirection:"column",marginTop:e.spacing(20),alignItems:"center",justifyContent:"center",width:"30%",backgroundColor:"#F8F8F8"},wrappingCardMobile:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"#F8F8F8"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},signInBtn:{width:"50%",marginTop:e.spacing(3)},formItems:{width:"50%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},img:{maxWidth:300,margin:"auto",marginTop:e.spacing(3),marginBottom:e.spacing(3)},SignInText:{marginBottom:e.spacing(1)}}}));var Ar=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(""),o=Object(p.a)(i,2),c=o[0],u=o[1],d=Object(n.useState)(""),g=Object(p.a)(d,2),E=g[0],x=g[1],v=Object(n.useState)(""),O=Object(p.a)(v,2),y=(O[0],O[1],Object(n.useState)("")),j=Object(p.a)(y,2),S=j[0],w=j[1],C=Object(n.useState)(""),A=Object(p.a)(C,2),T=(A[0],A[1],Cr()),N=Object(n.useState)(!1),k=Object(p.a)(N,2),I=k[0],D=k[1],F=Object(n.useState)("success"),P=Object(p.a)(F,2),B=P[0],R=P[1],L=Object(n.useState)(""),W=Object(p.a)(L,2),H=W[0],z=W[1],G=[{email:"drutinerez3@gmail.com",displayName:"Erez Drutin",work:{title:"manager",site:"Israel"}},{email:"tippoyt@gmail.com",displayName:"Tippo",work:{title:"manager",site:"USA"}},{email:"appsboss7@gmail.com",displayName:"Boss",work:{title:"manager",site:"UK"}},{email:"naty@wediggit.co.il",displayName:"Naty",work:{title:"manager",site:"Israel"}},{email:"mk@wediggit.co.il",displayName:"Moshe Kepten",work:{title:"manager",site:"Israel"}},{email:"meital@wediggit.co.il",displayName:"Meital Reiss",work:{title:"manager",site:"Israel"}},{email:"doron@wediggit.co.il",displayName:"Doron Kerub",work:{title:"manager",site:"Israel"}}],M=function(e,t){z(t),R(e),D(!0)},U=function(e,t){"clickaway"!==t&&D(!1)},V=function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(""),q()?K():M("error","The mail isn't registered with this app, contact your manager to proceed.");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){Sr.isSignInWithEmailLink(window.location.href)&&c?Sr.signInWithEmailLink(c,window.location.href).catch((function(e){switch(e.code){default:case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":x(e.message),M("error",E)}})):Sr.sendSignInLinkToEmail(c,{url:"https://erezdrutin.github.io/",handleCodeInApp:!0}).then((function(){window.localStorage.setItem("emailForSignIn",c),M("success","Check your mail box!")})).catch((function(e){switch(e.code){default:case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":x(e.message),M("error",E)}}))},q=function(){return G.filter((function(e){return e.email.toLowerCase()===c.toLowerCase()})).length},Y=function(){b.auth().onAuthStateChanged((function(e){e?(u(""),l(e),function(){var e=b.firestore(),t=b.auth(),a=e.collection("users").doc(t.currentUser.uid);a.get().then((function(e){if(!e.exists){var t="";G.find((function(e,a){e.email===window.localStorage.getItem("emailForSignIn")&&(t=e)})),a.set({fullName:t.displayName,email:t.email,position:t.work.title,site:t.work.site})}}))}(),window.localStorage.setItem("user",e)):l("")}))};return Object(n.useEffect)((function(){var e=window.localStorage.getItem("emailForSignIn");return Sr.isSignInWithEmailLink(window.location.href)&&e&&Sr.signInWithEmailLink(e,window.location.href),S||function(){var e=[];b.firestore().collection("sites").get().then((function(t){t.forEach((function(t){e.push(t.id)})),w(e)}))}(),Y()}),[]),r.a.createElement("div",{className:"App"},a?r.a.createElement(f.c,{history:h},r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/admin",component:nr}),r.a.createElement(f.b,{path:"/rtl",component:fr}),r.a.createElement(f.a,{from:"/",to:"/admin/dashboard"}))):r.a.createElement("div",{className:T.wrappingDiv},r.a.createElement(Er.a,{className:window.innerWidth<=500?T.wrappingCardMobile:T.wrappingCard},r.a.createElement("img",{src:yr.a,alt:"Login Image",className:T.img}),r.a.createElement($t.a,{component:"h1",variant:"h5",className:T.SignInText},"Sign in"),r.a.createElement(Vt.a,{className:T.formItems,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement(we,{color:"primary",onClick:V,className:T.signInBtn},"Sign in"),r.a.createElement(vr.a,{mt:8},r.a.createElement(wr,null))),r.a.createElement(xa.a,{open:I,autoHideDuration:6e3,onClose:U},r.a.createElement(jr,{onClose:U,severity:B},H))))};Object(o.a)();i.a.render(r.a.createElement(Ar,null),document.getElementById("root"))}},[[429,1,2]]]);
//# sourceMappingURL=main.45a3f390.chunk.js.map